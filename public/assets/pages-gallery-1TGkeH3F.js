import{g as Vs}from"./app-COk2rsMN.js";var Ee={exports:{}},Fs=Ee.exports,fi;function js(){return fi||(fi=1,(function(t,e){(function(i,n){t.exports=n()})(Fs,(function(){function i(s,r){if(!(s instanceof r))throw new TypeError("Cannot call a class as a function")}function n(s,r){for(var o=0;o<r.length;o++){var h=r[o];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(s,d(h.key),h)}}function a(s,r,o){return r&&n(s.prototype,r),Object.defineProperty(s,"prototype",{writable:!1}),s}function d(s){var r=(function(o,h){if(typeof o!="object"||!o)return o;var c=o[Symbol.toPrimitive];if(c!==void 0){var p=c.call(o,h);if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(o)})(s,"string");return typeof r=="symbol"?r:r+""}function l(s){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(s)}var u=Date.now();function f(){var s={},r=!0,o=0,h=arguments.length;Object.prototype.toString.call(arguments[0])==="[object Boolean]"&&(r=arguments[0],o++);for(var c=function(g){for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(r&&Object.prototype.toString.call(g[y])==="[object Object]"?s[y]=f(!0,s[y],g[y]):s[y]=g[y])};o<h;o++){var p=arguments[o];c(p)}return s}function _(s,r){if((Z(s)||s===window||s===document)&&(s=[s]),et(s)||mt(s)||(s=[s]),te(s)!=0){if(et(s)&&!mt(s))for(var o=s.length,h=0;h<o&&r.call(s[h],s[h],h,s)!==!1;h++);else if(mt(s)){for(var c in s)if($(s,c)&&r.call(s[c],s[c],c,s)===!1)break}}}function S(s){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,h=s[u]=s[u]||[],c={all:h,evt:null,found:null};return r&&o&&te(h)>0&&_(h,(function(p,g){if(p.eventName==r&&p.fn.toString()==o.toString())return c.found=!0,c.evt=g,!1})),c}function b(s){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=r.onElement,h=r.withCallback,c=r.avoidDuplicate,p=c===void 0||c,g=r.once,y=g!==void 0&&g,L=r.useCapture,I=L!==void 0&&L,R=arguments.length>2?arguments[2]:void 0,P=o||[];function N(H){q(h)&&h.call(R,H,this),y&&N.destroy()}return j(P)&&(P=document.querySelectorAll(P)),N.destroy=function(){_(P,(function(H){var W=S(H,s,N);W.found&&W.all.splice(W.evt,1),H.removeEventListener&&H.removeEventListener(s,N,I)}))},_(P,(function(H){var W=S(H,s,N);(H.addEventListener&&p&&!W.found||!p)&&(H.addEventListener(s,N,I),W.all.push({eventName:s,fn:N}))})),N}function w(s,r){_(r.split(" "),(function(o){return s.classList.add(o)}))}function A(s,r){_(r.split(" "),(function(o){return s.classList.remove(o)}))}function C(s,r){return s.classList.contains(r)}function v(s,r){for(;s!==document.body;){if(!(s=s.parentElement))return!1;if(typeof s.matches=="function"?s.matches(r):s.msMatchesSelector(r))return s}}function m(s){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",o=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(!s||r==="")return!1;if(r==="none")return q(o)&&o(),!1;var h=V(),c=r.split(" ");_(c,(function(p){w(s,"g"+p)})),b(h,{onElement:s,avoidDuplicate:!1,once:!0,withCallback:function(p,g){_(c,(function(y){A(g,"g"+y)})),q(o)&&o()}})}function D(s){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(r==="")return s.style.webkitTransform="",s.style.MozTransform="",s.style.msTransform="",s.style.OTransform="",s.style.transform="",!1;s.style.webkitTransform=r,s.style.MozTransform=r,s.style.msTransform=r,s.style.OTransform=r,s.style.transform=r}function E(s){s.style.display="block"}function k(s){s.style.display="none"}function T(s){var r=document.createDocumentFragment(),o=document.createElement("div");for(o.innerHTML=s;o.firstChild;)r.appendChild(o.firstChild);return r}function Y(){return{width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}}function V(){var s,r=document.createElement("fakeelement"),o={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(s in o)if(r.style[s]!==void 0)return o[s]}function Q(s,r,o,h){if(s())r();else{var c;o||(o=100);var p=setInterval((function(){s()&&(clearInterval(p),c&&clearTimeout(c),r())}),o)}}function tt(s,r,o){if(st(s))console.error("Inject assets error");else if(q(r)&&(o=r,r=!1),j(r)&&r in window)q(o)&&o();else{var h;if(s.indexOf(".css")!==-1){if((h=document.querySelectorAll('link[href="'+s+'"]'))&&h.length>0)return void(q(o)&&o());var c=document.getElementsByTagName("head")[0],p=c.querySelectorAll('link[rel="stylesheet"]'),g=document.createElement("link");return g.rel="stylesheet",g.type="text/css",g.href=s,g.media="all",p?c.insertBefore(g,p[0]):c.appendChild(g),void(q(o)&&o())}if((h=document.querySelectorAll('script[src="'+s+'"]'))&&h.length>0){if(q(o)){if(j(r))return Q((function(){return window[r]!==void 0}),(function(){o()})),!1;o()}}else{var y=document.createElement("script");y.type="text/javascript",y.src=s,y.onload=function(){if(q(o)){if(j(r))return Q((function(){return window[r]!==void 0}),(function(){o()})),!1;o()}},document.body.appendChild(y)}}}function B(){return"navigator"in window&&window.navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(Android)|(PlayBook)|(BB10)|(BlackBerry)|(Opera Mini)|(IEMobile)|(webOS)|(MeeGo)/i)}function q(s){return typeof s=="function"}function j(s){return typeof s=="string"}function Z(s){return!(!s||!s.nodeType||s.nodeType!=1)}function pt(s){return Array.isArray(s)}function et(s){return s&&s.length&&isFinite(s.length)}function mt(s){return l(s)==="object"&&s!=null&&!q(s)&&!pt(s)}function st(s){return s==null}function $(s,r){return s!==null&&hasOwnProperty.call(s,r)}function te(s){if(mt(s)){if(s.keys)return s.keys().length;var r=0;for(var o in s)$(s,o)&&r++;return r}return s.length}function Ht(s){return!isNaN(parseFloat(s))&&isFinite(s)}function ee(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1,r=document.querySelectorAll(".gbtn[data-taborder]:not(.disabled)");if(!r.length)return!1;if(r.length==1)return r[0];typeof s=="string"&&(s=parseInt(s));var o=[];_(r,(function(y){o.push(y.getAttribute("data-taborder"))}));var h=Math.max.apply(Math,o.map((function(y){return parseInt(y)}))),c=s<0?1:s+1;c>h&&(c="1");var p=o.filter((function(y){return y>=parseInt(c)})),g=p.sort()[0];return document.querySelector('.gbtn[data-taborder="'.concat(g,'"]'))}function ie(s){if(s.events.hasOwnProperty("keyboard"))return!1;s.events.keyboard=b("keydown",{onElement:window,withCallback:function(r,o){var h=(r=r||window.event).keyCode;if(h==9){var c=document.querySelector(".gbtn.focused");if(!c){var p=!(!document.activeElement||!document.activeElement.nodeName)&&document.activeElement.nodeName.toLocaleLowerCase();if(p=="input"||p=="textarea"||p=="button")return}r.preventDefault();var g=document.querySelectorAll(".gbtn[data-taborder]");if(!g||g.length<=0)return;if(!c){var y=ee();return void(y&&(y.focus(),w(y,"focused")))}var L=ee(c.getAttribute("data-taborder"));A(c,"focused"),L&&(L.focus(),w(L,"focused"))}h==39&&s.nextSlide(),h==37&&s.prevSlide(),h==27&&s.close()}})}var ks=a((function s(r,o){var h=this,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(i(this,s),this.img=r,this.slide=o,this.onclose=c,this.img.setZoomEvents)return!1;this.active=!1,this.zoomedIn=!1,this.dragging=!1,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.img.addEventListener("mousedown",(function(p){return h.dragStart(p)}),!1),this.img.addEventListener("mouseup",(function(p){return h.dragEnd(p)}),!1),this.img.addEventListener("mousemove",(function(p){return h.drag(p)}),!1),this.img.addEventListener("click",(function(p){return h.slide.classList.contains("dragging-nav")?(h.zoomOut(),!1):h.zoomedIn?void(h.zoomedIn&&!h.dragging&&h.zoomOut()):h.zoomIn()}),!1),this.img.setZoomEvents=!0}),[{key:"zoomIn",value:function(){var s=this.widowWidth();if(!(this.zoomedIn||s<=768)){var r=this.img;if(r.setAttribute("data-style",r.getAttribute("style")),r.style.maxWidth=r.naturalWidth+"px",r.style.maxHeight=r.naturalHeight+"px",r.naturalWidth>s){var o=s/2-r.naturalWidth/2;this.setTranslate(this.img.parentNode,o,0)}this.slide.classList.add("zoomed"),this.zoomedIn=!0}}},{key:"zoomOut",value:function(){this.img.parentNode.setAttribute("style",""),this.img.setAttribute("style",this.img.getAttribute("data-style")),this.slide.classList.remove("zoomed"),this.zoomedIn=!1,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.onclose&&typeof this.onclose=="function"&&this.onclose()}},{key:"dragStart",value:function(s){s.preventDefault(),this.zoomedIn?(s.type==="touchstart"?(this.initialX=s.touches[0].clientX-this.xOffset,this.initialY=s.touches[0].clientY-this.yOffset):(this.initialX=s.clientX-this.xOffset,this.initialY=s.clientY-this.yOffset),s.target===this.img&&(this.active=!0,this.img.classList.add("dragging"))):this.active=!1}},{key:"dragEnd",value:function(s){var r=this;s.preventDefault(),this.initialX=this.currentX,this.initialY=this.currentY,this.active=!1,setTimeout((function(){r.dragging=!1,r.img.isDragging=!1,r.img.classList.remove("dragging")}),100)}},{key:"drag",value:function(s){this.active&&(s.preventDefault(),s.type==="touchmove"?(this.currentX=s.touches[0].clientX-this.initialX,this.currentY=s.touches[0].clientY-this.initialY):(this.currentX=s.clientX-this.initialX,this.currentY=s.clientY-this.initialY),this.xOffset=this.currentX,this.yOffset=this.currentY,this.img.isDragging=!0,this.dragging=!0,this.setTranslate(this.img,this.currentX,this.currentY))}},{key:"onMove",value:function(s){if(this.zoomedIn){var r=s.clientX-this.img.naturalWidth/2,o=s.clientY-this.img.naturalHeight/2;this.setTranslate(this.img,r,o)}}},{key:"setTranslate",value:function(s,r,o){s.style.transform="translate3d("+r+"px, "+o+"px, 0)"}},{key:"widowWidth",value:function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}}]),ai=a((function s(){var r=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};i(this,s);var h=o.dragEl,c=o.toleranceX,p=c===void 0?40:c,g=o.toleranceY,y=g===void 0?65:g,L=o.slide,I=L===void 0?null:L,R=o.instance,P=R===void 0?null:R;this.el=h,this.active=!1,this.dragging=!1,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.direction=null,this.lastDirection=null,this.toleranceX=p,this.toleranceY=y,this.toleranceReached=!1,this.dragContainer=this.el,this.slide=I,this.instance=P,this.el.addEventListener("mousedown",(function(N){return r.dragStart(N)}),!1),this.el.addEventListener("mouseup",(function(N){return r.dragEnd(N)}),!1),this.el.addEventListener("mousemove",(function(N){return r.drag(N)}),!1)}),[{key:"dragStart",value:function(s){if(this.slide.classList.contains("zoomed"))this.active=!1;else{s.type==="touchstart"?(this.initialX=s.touches[0].clientX-this.xOffset,this.initialY=s.touches[0].clientY-this.yOffset):(this.initialX=s.clientX-this.xOffset,this.initialY=s.clientY-this.yOffset);var r=s.target.nodeName.toLowerCase();s.target.classList.contains("nodrag")||v(s.target,".nodrag")||["input","select","textarea","button","a"].indexOf(r)!==-1?this.active=!1:(s.preventDefault(),(s.target===this.el||r!=="img"&&v(s.target,".gslide-inline"))&&(this.active=!0,this.el.classList.add("dragging"),this.dragContainer=v(s.target,".ginner-container")))}}},{key:"dragEnd",value:function(s){var r=this;s&&s.preventDefault(),this.initialX=0,this.initialY=0,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.active=!1,this.doSlideChange&&(this.instance.preventOutsideClick=!0,this.doSlideChange=="right"&&this.instance.prevSlide(),this.doSlideChange=="left"&&this.instance.nextSlide()),this.doSlideClose&&this.instance.close(),this.toleranceReached||this.setTranslate(this.dragContainer,0,0,!0),setTimeout((function(){r.instance.preventOutsideClick=!1,r.toleranceReached=!1,r.lastDirection=null,r.dragging=!1,r.el.isDragging=!1,r.el.classList.remove("dragging"),r.slide.classList.remove("dragging-nav"),r.dragContainer.style.transform="",r.dragContainer.style.transition=""}),100)}},{key:"drag",value:function(s){if(this.active){s.preventDefault(),this.slide.classList.add("dragging-nav"),s.type==="touchmove"?(this.currentX=s.touches[0].clientX-this.initialX,this.currentY=s.touches[0].clientY-this.initialY):(this.currentX=s.clientX-this.initialX,this.currentY=s.clientY-this.initialY),this.xOffset=this.currentX,this.yOffset=this.currentY,this.el.isDragging=!0,this.dragging=!0,this.doSlideChange=!1,this.doSlideClose=!1;var r=Math.abs(this.currentX),o=Math.abs(this.currentY);if(r>0&&r>=Math.abs(this.currentY)&&(!this.lastDirection||this.lastDirection=="x")){this.yOffset=0,this.lastDirection="x",this.setTranslate(this.dragContainer,this.currentX,0);var h=this.shouldChange();if(!this.instance.settings.dragAutoSnap&&h&&(this.doSlideChange=h),this.instance.settings.dragAutoSnap&&h)return this.instance.preventOutsideClick=!0,this.toleranceReached=!0,this.active=!1,this.instance.preventOutsideClick=!0,this.dragEnd(null),h=="right"&&this.instance.prevSlide(),void(h=="left"&&this.instance.nextSlide())}if(this.toleranceY>0&&o>0&&o>=r&&(!this.lastDirection||this.lastDirection=="y")){this.xOffset=0,this.lastDirection="y",this.setTranslate(this.dragContainer,0,this.currentY);var c=this.shouldClose();return!this.instance.settings.dragAutoSnap&&c&&(this.doSlideClose=!0),void(this.instance.settings.dragAutoSnap&&c&&this.instance.close())}}}},{key:"shouldChange",value:function(){var s=!1;if(Math.abs(this.currentX)>=this.toleranceX){var r=this.currentX>0?"right":"left";(r=="left"&&this.slide!==this.slide.parentNode.lastChild||r=="right"&&this.slide!==this.slide.parentNode.firstChild)&&(s=r)}return s}},{key:"shouldClose",value:function(){var s=!1;return Math.abs(this.currentY)>=this.toleranceY&&(s=!0),s}},{key:"setTranslate",value:function(s,r,o){var h=arguments.length>3&&arguments[3]!==void 0&&arguments[3];s.style.transition=h?"all .2s ease":"",s.style.transform="translate3d(".concat(r,"px, ").concat(o,"px, 0)")}}]);function Cs(s,r,o,h){var c=s.querySelector(".gslide-media"),p=new Image,g="gSlideTitle_"+o,y="gSlideDesc_"+o;p.addEventListener("load",(function(){q(h)&&h()}),!1),p.src=r.href,r.sizes!=""&&r.srcset!=""&&(p.sizes=r.sizes,p.srcset=r.srcset),p.alt="",st(r.alt)||r.alt===""||(p.alt=r.alt),r.title!==""&&p.setAttribute("aria-labelledby",g),r.description!==""&&p.setAttribute("aria-describedby",y),r.hasOwnProperty("_hasCustomWidth")&&r._hasCustomWidth&&(p.style.width=r.width),r.hasOwnProperty("_hasCustomHeight")&&r._hasCustomHeight&&(p.style.height=r.height),c.insertBefore(p,c.firstChild)}function Is(s,r,o,h){var c=this,p=s.querySelector(".ginner-container"),g="gvideo"+o,y=s.querySelector(".gslide-media"),L=this.getAllPlayers();w(p,"gvideo-container"),y.insertBefore(T('<div class="gvideo-wrapper"></div>'),y.firstChild);var I=s.querySelector(".gvideo-wrapper");tt(this.settings.plyr.css,"Plyr");var R=r.href,P=r?.videoProvider,N=!1;y.style.maxWidth=r.width,tt(this.settings.plyr.js,"Plyr",(function(){if(!P&&R.match(/vimeo\.com\/([0-9]*)/)&&(P="vimeo"),!P&&(R.match(/(youtube\.com|youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/)||R.match(/youtu\.be\/([a-zA-Z0-9\-_]+)/)||R.match(/(youtube\.com|youtube-nocookie\.com)\/embed\/([a-zA-Z0-9\-_]+)/)||R.match(/(youtube\.com|youtube-nocookie\.com)\/shorts\/([a-zA-Z0-9\-_]+)/))&&(P="youtube"),P==="local"||!P){P="local";var H='<video id="'+g+'" ';H+='style="background:#000; max-width: '.concat(r.width,';" '),H+='preload="metadata" ',H+='x-webkit-airplay="allow" ',H+="playsinline ",H+="controls ",H+='class="gvideo-local">',H+='<source src="'.concat(R,'">'),N=T(H+="</video>")}var W=N||T('<div id="'.concat(g,'" data-plyr-provider="').concat(P,'" data-plyr-embed-id="').concat(R,'"></div>'));w(I,"".concat(P,"-video gvideo")),I.appendChild(W),I.setAttribute("data-id",g),I.setAttribute("data-index",o);var K=$(c.settings.plyr,"config")?c.settings.plyr.config:{},_t=new Plyr("#"+g,K);_t.on("ready",(function(ct){L[g]=ct.detail.plyr,q(h)&&h()})),Q((function(){return s.querySelector("iframe")&&s.querySelector("iframe").dataset.ready=="true"}),(function(){c.resize(s)})),_t.on("enterfullscreen",oi),_t.on("exitfullscreen",oi)}))}function oi(s){var r=v(s.target,".gslide-media");s.type==="enterfullscreen"&&w(r,"fullscreen"),s.type==="exitfullscreen"&&A(r,"fullscreen")}function Ls(s,r,o,h){var c,p=this,g=s.querySelector(".gslide-media"),y=!(!$(r,"href")||!r.href)&&r.href.split("#").pop().trim(),L=!(!$(r,"content")||!r.content)&&r.content;if(L&&(j(L)&&(c=T('<div class="ginlined-content">'.concat(L,"</div>"))),Z(L))){L.style.display=="none"&&(L.style.display="block");var I=document.createElement("div");I.className="ginlined-content",I.appendChild(L),c=I}if(y){var R=document.getElementById(y);if(!R)return!1;var P=R.cloneNode(!0);P.style.height=r.height,P.style.maxWidth=r.width,w(P,"ginlined-content"),c=P}if(!c)return console.error("Unable to append inline slide content",r),!1;g.style.height=r.height,g.style.width=r.width,g.appendChild(c),this.events["inlineclose"+y]=b("click",{onElement:g.querySelectorAll(".gtrigger-close"),withCallback:function(N){N.preventDefault(),p.close()}}),q(h)&&h()}function Rs(s,r,o,h){var c=s.querySelector(".gslide-media"),p=(function(g){var y=g.url,L=g.allow,I=g.callback,R=g.appendTo,P=document.createElement("iframe");return P.className="vimeo-video gvideo",P.src=y,P.style.width="100%",P.style.height="100%",L&&P.setAttribute("allow",L),P.onload=function(){P.onload=null,w(P,"node-ready"),q(I)&&I()},R&&R.appendChild(P),P})({url:r.href,callback:h});c.parentNode.style.maxWidth=r.width,c.parentNode.style.height=r.height,c.appendChild(p)}var Ps=a((function s(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};i(this,s),this.defaults={href:"",sizes:"",srcset:"",title:"",type:"",videoProvider:"",description:"",alt:"",descPosition:"bottom",effect:"",width:"",height:"",content:!1,zoomable:!0,draggable:!0},mt(r)&&(this.defaults=f(this.defaults,r))}),[{key:"sourceType",value:function(s){var r=s;return(s=s.toLowerCase()).match(/\.(jpeg|jpg|jpe|gif|png|apn|webp|avif|svg)/)!==null?"image":s.match(/(youtube\.com|youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/)||s.match(/youtu\.be\/([a-zA-Z0-9\-_]+)/)||s.match(/(youtube\.com|youtube-nocookie\.com)\/embed\/([a-zA-Z0-9\-_]+)/)||s.match(/(youtube\.com|youtube-nocookie\.com)\/shorts\/([a-zA-Z0-9\-_]+)/)||s.match(/vimeo\.com\/([0-9]*)/)||s.match(/\.(mp4|ogg|webm|mov)/)!==null?"video":s.match(/\.(mp3|wav|wma|aac|ogg)/)!==null?"audio":s.indexOf("#")>-1&&r.split("#").pop().trim()!==""?"inline":s.indexOf("goajax=true")>-1?"ajax":"external"}},{key:"parseConfig",value:function(s,r){var o=this,h=f({descPosition:r.descPosition},this.defaults);if(mt(s)&&!Z(s)){$(s,"type")||($(s,"content")&&s.content?s.type="inline":$(s,"href")&&(s.type=this.sourceType(s.href)));var c=f(h,s);return this.setSize(c,r),c}var p="",g=s.getAttribute("data-glightbox"),y=s.nodeName.toLowerCase();if(y==="a"&&(p=s.href),y==="img"&&(p=s.src,h.alt=s.alt),h.href=p,_(h,(function(H,W){$(r,W)&&W!=="width"&&(h[W]=r[W]);var K=s.dataset[W];st(K)||(h[W]=o.sanitizeValue(K))})),h.content&&(h.type="inline"),!h.type&&p&&(h.type=this.sourceType(p)),st(g)){if(!h.title&&y=="a"){var L=s.title;st(L)||L===""||(h.title=L)}if(!h.title&&y=="img"){var I=s.alt;st(I)||I===""||(h.title=I)}}else{var R=[];_(h,(function(H,W){R.push(";\\s?"+W)})),R=R.join("\\s?:|"),g.trim()!==""&&_(h,(function(H,W){var K=g,_t=new RegExp("s?"+W+"s?:s?(.*?)("+R+"s?:|$)"),ct=K.match(_t);if(ct&&ct.length&&ct[1]){var Tt=ct[1].trim().replace(/;\s*$/,"");h[W]=o.sanitizeValue(Tt)}}))}if(h.description&&h.description.substring(0,1)==="."){var P;try{P=document.querySelector(h.description).innerHTML}catch(H){if(!(H instanceof DOMException))throw H}P&&(h.description=P)}if(!h.description){var N=s.querySelector(".glightbox-desc");N&&(h.description=N.innerHTML)}return this.setSize(h,r,s),this.slideConfig=h,h}},{key:"setSize",value:function(s,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,h=s.type=="video"?this.checkSize(r.videosWidth):this.checkSize(r.width),c=this.checkSize(r.height);return s.width=$(s,"width")&&s.width!==""?this.checkSize(s.width):h,s.height=$(s,"height")&&s.height!==""?this.checkSize(s.height):c,o&&s.type=="image"&&(s._hasCustomWidth=!!o.dataset.width,s._hasCustomHeight=!!o.dataset.height),s}},{key:"checkSize",value:function(s){return Ht(s)?"".concat(s,"px"):s}},{key:"sanitizeValue",value:function(s){return s!=="true"&&s!=="false"?s:s==="true"}}]),ve=a((function s(r,o,h){i(this,s),this.element=r,this.instance=o,this.index=h}),[{key:"setContent",value:function(){var s=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(C(r,"loaded"))return!1;var h=this.instance.settings,c=this.slideConfig,p=B();q(h.beforeSlideLoad)&&h.beforeSlideLoad({index:this.index,slide:r,player:!1});var g=c.type,y=c.descPosition,L=r.querySelector(".gslide-media"),I=r.querySelector(".gslide-title"),R=r.querySelector(".gslide-desc"),P=r.querySelector(".gdesc-inner"),N=o,H="gSlideTitle_"+this.index,W="gSlideDesc_"+this.index;if(q(h.afterSlideLoad)&&(N=function(){q(o)&&o(),h.afterSlideLoad({index:s.index,slide:r,player:s.instance.getSlidePlayerInstance(s.index)})}),c.title==""&&c.description==""?P&&P.parentNode.parentNode.removeChild(P.parentNode):(I&&c.title!==""?(I.id=H,I.innerHTML=c.title):I.parentNode.removeChild(I),R&&c.description!==""?(R.id=W,p&&h.moreLength>0?(c.smallDescription=this.slideShortDesc(c.description,h.moreLength,h.moreText),R.innerHTML=c.smallDescription,this.descriptionEvents(R,c)):R.innerHTML=c.description):R.parentNode.removeChild(R),w(L.parentNode,"desc-".concat(y)),w(P.parentNode,"description-".concat(y))),w(L,"gslide-".concat(g)),w(r,"loaded"),g!=="video"){if(g!=="external")return g==="inline"?(Ls.apply(this.instance,[r,c,this.index,N]),void(c.draggable&&new ai({dragEl:r.querySelector(".gslide-inline"),toleranceX:h.dragToleranceX,toleranceY:h.dragToleranceY,slide:r,instance:this.instance}))):void(g!=="image"?q(N)&&N():Cs(r,c,this.index,(function(){var K=r.querySelector("img");c.draggable&&new ai({dragEl:K,toleranceX:h.dragToleranceX,toleranceY:h.dragToleranceY,slide:r,instance:s.instance}),c.zoomable&&K.naturalWidth>K.offsetWidth&&(w(K,"zoomable"),new ks(K,r,(function(){s.instance.resize()}))),q(N)&&N()})));Rs.apply(this,[r,c,this.index,N])}else Is.apply(this.instance,[r,c,this.index,N])}},{key:"slideShortDesc",value:function(s){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:50,o=arguments.length>2&&arguments[2]!==void 0&&arguments[2],h=document.createElement("div");h.innerHTML=s;var c=h.innerText,p=o;if((s=c.trim()).length<=r)return s;var g=s.substr(0,r-1);return p?(h=null,g+'... <a href="#" class="desc-more">'+o+"</a>"):g}},{key:"descriptionEvents",value:function(s,r){var o=this,h=s.querySelector(".desc-more");if(!h)return!1;b("click",{onElement:h,withCallback:function(c,p){c.preventDefault();var g=document.body,y=v(p,".gslide-desc");if(!y)return!1;y.innerHTML=r.description,w(g,"gdesc-open");var L=b("click",{onElement:[g,v(y,".gslide-description")],withCallback:function(I,R){I.target.nodeName.toLowerCase()!=="a"&&(A(g,"gdesc-open"),w(g,"gdesc-closed"),y.innerHTML=r.smallDescription,o.descriptionEvents(y,r),setTimeout((function(){A(g,"gdesc-closed")}),400),L.destroy())}})}})}},{key:"create",value:function(){return T(this.instance.settings.slideHTML)}},{key:"getConfig",value:function(){Z(this.element)||this.element.hasOwnProperty("draggable")||(this.element.draggable=this.instance.settings.draggable);var s=new Ps(this.instance.settings.slideExtraAttributes);return this.slideConfig=s.parseConfig(this.element,this.instance.settings),this.slideConfig}}]);function ge(s){return Math.sqrt(s.x*s.x+s.y*s.y)}function Ms(s,r){var o=(function(h,c){var p=ge(h)*ge(c);if(p===0)return 0;var g=(function(y,L){return y.x*L.x+y.y*L.y})(h,c)/p;return g>1&&(g=1),Math.acos(g)})(s,r);return(function(h,c){return h.x*c.y-c.x*h.y})(s,r)>0&&(o*=-1),180*o/Math.PI}var Os=a((function s(r){i(this,s),this.handlers=[],this.el=r}),[{key:"add",value:function(s){this.handlers.push(s)}},{key:"del",value:function(s){s||(this.handlers=[]);for(var r=this.handlers.length;r>=0;r--)this.handlers[r]===s&&this.handlers.splice(r,1)}},{key:"dispatch",value:function(){for(var s=0,r=this.handlers.length;s<r;s++){var o=this.handlers[s];typeof o=="function"&&o.apply(this.el,arguments)}}}]);function ht(s,r){var o=new Os(s);return o.add(r),o}var Ys=a((function s(r,o){i(this,s),this.element=typeof r=="string"?document.querySelector(r):r,this.start=this.start.bind(this),this.move=this.move.bind(this),this.end=this.end.bind(this),this.cancel=this.cancel.bind(this),this.element.addEventListener("touchstart",this.start,!1),this.element.addEventListener("touchmove",this.move,!1),this.element.addEventListener("touchend",this.end,!1),this.element.addEventListener("touchcancel",this.cancel,!1),this.preV={x:null,y:null},this.pinchStartLen=null,this.zoom=1,this.isDoubleTap=!1;var h=function(){};this.rotate=ht(this.element,o.rotate||h),this.touchStart=ht(this.element,o.touchStart||h),this.multipointStart=ht(this.element,o.multipointStart||h),this.multipointEnd=ht(this.element,o.multipointEnd||h),this.pinch=ht(this.element,o.pinch||h),this.swipe=ht(this.element,o.swipe||h),this.tap=ht(this.element,o.tap||h),this.doubleTap=ht(this.element,o.doubleTap||h),this.longTap=ht(this.element,o.longTap||h),this.singleTap=ht(this.element,o.singleTap||h),this.pressMove=ht(this.element,o.pressMove||h),this.twoFingerPressMove=ht(this.element,o.twoFingerPressMove||h),this.touchMove=ht(this.element,o.touchMove||h),this.touchEnd=ht(this.element,o.touchEnd||h),this.touchCancel=ht(this.element,o.touchCancel||h),this.translateContainer=this.element,this._cancelAllHandler=this.cancelAll.bind(this),window.addEventListener("scroll",this._cancelAllHandler),this.delta=null,this.last=null,this.now=null,this.tapTimeout=null,this.singleTapTimeout=null,this.longTapTimeout=null,this.swipeTimeout=null,this.x1=this.x2=this.y1=this.y2=null,this.preTapPosition={x:null,y:null}}),[{key:"start",value:function(s){if(s.touches)if(s.target&&s.target.nodeName&&["a","button","input"].indexOf(s.target.nodeName.toLowerCase())>=0)console.log("ignore drag for this touched element",s.target.nodeName.toLowerCase());else{this.now=Date.now(),this.x1=s.touches[0].pageX,this.y1=s.touches[0].pageY,this.delta=this.now-(this.last||this.now),this.touchStart.dispatch(s,this.element),this.preTapPosition.x!==null&&(this.isDoubleTap=this.delta>0&&this.delta<=250&&Math.abs(this.preTapPosition.x-this.x1)<30&&Math.abs(this.preTapPosition.y-this.y1)<30,this.isDoubleTap&&clearTimeout(this.singleTapTimeout)),this.preTapPosition.x=this.x1,this.preTapPosition.y=this.y1,this.last=this.now;var r=this.preV;if(s.touches.length>1){this._cancelLongTap(),this._cancelSingleTap();var o={x:s.touches[1].pageX-this.x1,y:s.touches[1].pageY-this.y1};r.x=o.x,r.y=o.y,this.pinchStartLen=ge(r),this.multipointStart.dispatch(s,this.element)}this._preventTap=!1,this.longTapTimeout=setTimeout((function(){this.longTap.dispatch(s,this.element),this._preventTap=!0}).bind(this),750)}}},{key:"move",value:function(s){if(s.touches){var r=this.preV,o=s.touches.length,h=s.touches[0].pageX,c=s.touches[0].pageY;if(this.isDoubleTap=!1,o>1){var p=s.touches[1].pageX,g=s.touches[1].pageY,y={x:s.touches[1].pageX-h,y:s.touches[1].pageY-c};r.x!==null&&(this.pinchStartLen>0&&(s.zoom=ge(y)/this.pinchStartLen,this.pinch.dispatch(s,this.element)),s.angle=Ms(y,r),this.rotate.dispatch(s,this.element)),r.x=y.x,r.y=y.y,this.x2!==null&&this.sx2!==null?(s.deltaX=(h-this.x2+p-this.sx2)/2,s.deltaY=(c-this.y2+g-this.sy2)/2):(s.deltaX=0,s.deltaY=0),this.twoFingerPressMove.dispatch(s,this.element),this.sx2=p,this.sy2=g}else{if(this.x2!==null){s.deltaX=h-this.x2,s.deltaY=c-this.y2;var L=Math.abs(this.x1-this.x2),I=Math.abs(this.y1-this.y2);(L>10||I>10)&&(this._preventTap=!0)}else s.deltaX=0,s.deltaY=0;this.pressMove.dispatch(s,this.element)}this.touchMove.dispatch(s,this.element),this._cancelLongTap(),this.x2=h,this.y2=c,o>1&&s.preventDefault()}}},{key:"end",value:function(s){if(s.changedTouches){this._cancelLongTap();var r=this;s.touches.length<2&&(this.multipointEnd.dispatch(s,this.element),this.sx2=this.sy2=null),this.x2&&Math.abs(this.x1-this.x2)>30||this.y2&&Math.abs(this.y1-this.y2)>30?(s.direction=this._swipeDirection(this.x1,this.x2,this.y1,this.y2),this.swipeTimeout=setTimeout((function(){r.swipe.dispatch(s,r.element)}),0)):(this.tapTimeout=setTimeout((function(){r._preventTap||r.tap.dispatch(s,r.element),r.isDoubleTap&&(r.doubleTap.dispatch(s,r.element),r.isDoubleTap=!1)}),0),r.isDoubleTap||(r.singleTapTimeout=setTimeout((function(){r.singleTap.dispatch(s,r.element)}),250))),this.touchEnd.dispatch(s,this.element),this.preV.x=0,this.preV.y=0,this.zoom=1,this.pinchStartLen=null,this.x1=this.x2=this.y1=this.y2=null}}},{key:"cancelAll",value:function(){this._preventTap=!0,clearTimeout(this.singleTapTimeout),clearTimeout(this.tapTimeout),clearTimeout(this.longTapTimeout),clearTimeout(this.swipeTimeout)}},{key:"cancel",value:function(s){this.cancelAll(),this.touchCancel.dispatch(s,this.element)}},{key:"_cancelLongTap",value:function(){clearTimeout(this.longTapTimeout)}},{key:"_cancelSingleTap",value:function(){clearTimeout(this.singleTapTimeout)}},{key:"_swipeDirection",value:function(s,r,o,h){return Math.abs(s-r)>=Math.abs(o-h)?s-r>0?"Left":"Right":o-h>0?"Up":"Down"}},{key:"on",value:function(s,r){this[s]&&this[s].add(r)}},{key:"off",value:function(s,r){this[s]&&this[s].del(r)}},{key:"destroy",value:function(){return this.singleTapTimeout&&clearTimeout(this.singleTapTimeout),this.tapTimeout&&clearTimeout(this.tapTimeout),this.longTapTimeout&&clearTimeout(this.longTapTimeout),this.swipeTimeout&&clearTimeout(this.swipeTimeout),this.element.removeEventListener("touchstart",this.start),this.element.removeEventListener("touchmove",this.move),this.element.removeEventListener("touchend",this.end),this.element.removeEventListener("touchcancel",this.cancel),this.rotate.del(),this.touchStart.del(),this.multipointStart.del(),this.multipointEnd.del(),this.pinch.del(),this.swipe.del(),this.tap.del(),this.doubleTap.del(),this.longTap.del(),this.singleTap.del(),this.pressMove.del(),this.twoFingerPressMove.del(),this.touchMove.del(),this.touchEnd.del(),this.touchCancel.del(),this.preV=this.pinchStartLen=this.zoom=this.isDoubleTap=this.delta=this.last=this.now=this.tapTimeout=this.singleTapTimeout=this.longTapTimeout=this.swipeTimeout=this.x1=this.x2=this.y1=this.y2=this.preTapPosition=this.rotate=this.touchStart=this.multipointStart=this.multipointEnd=this.pinch=this.swipe=this.tap=this.doubleTap=this.longTap=this.singleTap=this.pressMove=this.touchMove=this.touchEnd=this.touchCancel=this.twoFingerPressMove=null,window.removeEventListener("scroll",this._cancelAllHandler),null}}]);function ze(s){var r=(function(){var g,y=document.createElement("fakeelement"),L={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(g in L)if(y.style[g]!==void 0)return L[g]})(),o=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,h=C(s,"gslide-media")?s:s.querySelector(".gslide-media"),c=v(h,".ginner-container"),p=s.querySelector(".gslide-description");o>769&&(h=c),w(h,"greset"),D(h,"translate3d(0, 0, 0)"),b(r,{onElement:h,once:!0,withCallback:function(g,y){A(h,"greset")}}),h.style.opacity="",p&&(p.style.opacity="")}function Xs(s){if(s.events.hasOwnProperty("touch"))return!1;var r,o,h,c=Y(),p=c.width,g=c.height,y=!1,L=null,I=null,R=null,P=!1,N=1,H=1,W=!1,K=!1,_t=null,ct=null,Tt=null,nt=null,At=0,Dt=0,se=!1,Vt=!1,St={},xt={},ui=0,ci=0,Hs=document.getElementById("glightbox-slider"),pe=document.querySelector(".goverlay"),Bs=new Ys(Hs,{touchStart:function(F){if(y=!0,(C(F.targetTouches[0].target,"ginner-container")||v(F.targetTouches[0].target,".gslide-desc")||F.targetTouches[0].target.nodeName.toLowerCase()=="a")&&(y=!1),v(F.targetTouches[0].target,".gslide-inline")&&!C(F.targetTouches[0].target.parentNode,"gslide-inline")&&(y=!1),y){if(xt=F.targetTouches[0],St.pageX=F.targetTouches[0].pageX,St.pageY=F.targetTouches[0].pageY,ui=F.targetTouches[0].clientX,ci=F.targetTouches[0].clientY,L=s.activeSlide,I=L.querySelector(".gslide-media"),h=L.querySelector(".gslide-inline"),R=null,C(I,"gslide-image")&&(R=I.querySelector("img")),(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)>769&&(I=L.querySelector(".ginner-container")),A(pe,"greset"),F.pageX>20&&F.pageX<window.innerWidth-20)return;F.preventDefault()}},touchMove:function(F){if(y&&(xt=F.targetTouches[0],!W&&!K)){if(h&&h.offsetHeight>g){var dt=St.pageX-xt.pageX;if(Math.abs(dt)<=13)return!1}P=!0;var Rt,me=F.targetTouches[0].clientX,Ws=F.targetTouches[0].clientY,zs=ui-me,Gs=ci-Ws;if(Math.abs(zs)>Math.abs(Gs)?(se=!1,Vt=!0):(Vt=!1,se=!0),r=xt.pageX-St.pageX,At=100*r/p,o=xt.pageY-St.pageY,Dt=100*o/g,se&&R&&(Rt=1-Math.abs(o)/g,pe.style.opacity=Rt,s.settings.touchFollowAxis&&(At=0)),Vt&&(Rt=1-Math.abs(r)/p,I.style.opacity=Rt,s.settings.touchFollowAxis&&(Dt=0)),!R)return D(I,"translate3d(".concat(At,"%, 0, 0)"));D(I,"translate3d(".concat(At,"%, ").concat(Dt,"%, 0)"))}},touchEnd:function(){if(y){if(P=!1,K||W)return Tt=_t,void(nt=ct);var F=Math.abs(parseInt(Dt)),dt=Math.abs(parseInt(At));if(!(F>29&&R))return F<29&&dt<25?(w(pe,"greset"),pe.style.opacity=1,ze(I)):void 0;s.close()}},multipointEnd:function(){setTimeout((function(){W=!1}),50)},multipointStart:function(){W=!0,N=H||1},pinch:function(F){if(!R||P)return!1;W=!0,R.scaleX=R.scaleY=N*F.zoom;var dt=N*F.zoom;if(K=!0,dt<=1)return K=!1,dt=1,nt=null,Tt=null,_t=null,ct=null,void R.setAttribute("style","");dt>4.5&&(dt=4.5),R.style.transform="scale3d(".concat(dt,", ").concat(dt,", 1)"),H=dt},pressMove:function(F){if(K&&!W){var dt=xt.pageX-St.pageX,Rt=xt.pageY-St.pageY;Tt&&(dt+=Tt),nt&&(Rt+=nt),_t=dt,ct=Rt;var me="translate3d(".concat(dt,"px, ").concat(Rt,"px, 0)");H&&(me+=" scale3d(".concat(H,", ").concat(H,", 1)")),D(R,me)}},swipe:function(F){if(!K)if(W)W=!1;else{if(F.direction=="Left"){if(s.index==s.elements.length-1)return ze(I);s.nextSlide()}if(F.direction=="Right"){if(s.index==0)return ze(I);s.prevSlide()}}}});s.events.touch=Bs}var li=B(),hi=B()!==null||document.createTouch!==void 0||"ontouchstart"in window||"onmsgesturechange"in window||navigator.msMaxTouchPoints,di=document.getElementsByTagName("html")[0],Ns={selector:".glightbox",elements:null,skin:"clean",theme:"clean",closeButton:!0,startAt:null,autoplayVideos:!0,autofocusVideos:!0,descPosition:"bottom",width:"900px",height:"506px",videosWidth:"960px",beforeSlideChange:null,afterSlideChange:null,beforeSlideLoad:null,afterSlideLoad:null,slideInserted:null,slideRemoved:null,slideExtraAttributes:null,onOpen:null,onClose:null,loop:!1,zoomable:!0,draggable:!0,dragAutoSnap:!1,dragToleranceX:40,dragToleranceY:65,preload:!0,oneSlidePerOpen:!1,touchNavigation:!0,touchFollowAxis:!0,keyboardNavigation:!0,closeOnOutsideClick:!0,plugins:!1,plyr:{css:"https://cdn.plyr.io/3.6.12/plyr.css",js:"https://cdn.plyr.io/3.6.12/plyr.js",config:{ratio:"16:9",fullscreen:{enabled:!0,iosNative:!0},youtube:{noCookie:!0,rel:0,showinfo:0,iv_load_policy:3},vimeo:{byline:!1,portrait:!1,title:!1,transparent:!1}}},openEffect:"zoom",closeEffect:"zoom",slideEffect:"slide",moreText:"See more",moreLength:60,cssEfects:{fade:{in:"fadeIn",out:"fadeOut"},zoom:{in:"zoomIn",out:"zoomOut"},slide:{in:"slideInRight",out:"slideOutLeft"},slideBack:{in:"slideInLeft",out:"slideOutRight"},none:{in:"none",out:"none"}},svg:{close:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" xml:space="preserve"><g><g><path d="M505.943,6.058c-8.077-8.077-21.172-8.077-29.249,0L6.058,476.693c-8.077,8.077-8.077,21.172,0,29.249C10.096,509.982,15.39,512,20.683,512c5.293,0,10.586-2.019,14.625-6.059L505.943,35.306C514.019,27.23,514.019,14.135,505.943,6.058z"/></g></g><g><g><path d="M505.942,476.694L35.306,6.059c-8.076-8.077-21.172-8.077-29.248,0c-8.077,8.076-8.077,21.171,0,29.248l470.636,470.636c4.038,4.039,9.332,6.058,14.625,6.058c5.293,0,10.587-2.019,14.624-6.057C514.018,497.866,514.018,484.771,505.942,476.694z"/></g></g></svg>',next:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 477.175 477.175" xml:space="preserve"> <g><path d="M360.731,229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1,0s-5.3,13.8,0,19.1l215.5,215.5l-215.5,215.5c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4c3.4,0,6.9-1.3,9.5-4l225.1-225.1C365.931,242.875,365.931,234.275,360.731,229.075z"/></g></svg>',prev:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 477.175 477.175" xml:space="preserve"><g><path d="M145.188,238.575l215.5-215.5c5.3-5.3,5.3-13.8,0-19.1s-13.8-5.3-19.1,0l-225.1,225.1c-5.3,5.3-5.3,13.8,0,19.1l225.1,225c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1L145.188,238.575z"/></g></svg>'},slideHTML:`<div class="gslide">
    <div class="gslide-inner-content">
        <div class="ginner-container">
            <div class="gslide-media">
            </div>
            <div class="gslide-description">
                <div class="gdesc-inner">
                    <h4 class="gslide-title"></h4>
                    <div class="gslide-desc"></div>
                </div>
            </div>
        </div>
    </div>
</div>`,lightboxHTML:`<div id="glightbox-body" class="glightbox-container" tabindex="-1" role="dialog" aria-hidden="false">
    <div class="gloader visible"></div>
    <div class="goverlay"></div>
    <div class="gcontainer">
    <div id="glightbox-slider" class="gslider"></div>
    <button class="gclose gbtn" aria-label="Close" data-taborder="3">{closeSVG}</button>
    <button class="gprev gbtn" aria-label="Previous" data-taborder="2">{prevSVG}</button>
    <button class="gnext gbtn" aria-label="Next" data-taborder="1">{nextSVG}</button>
</div>
</div>`},qs=a((function s(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};i(this,s),this.customOptions=r,this.settings=f(Ns,r),this.effectsClasses=this.getAnimationClasses(),this.videoPlayers={},this.apiEvents=[],this.fullElementsList=!1}),[{key:"init",value:function(){var s=this,r=this.getSelector();r&&(this.baseEvents=b("click",{onElement:r,withCallback:function(o,h){o.preventDefault(),s.open(h)}})),this.elements=this.getElements()}},{key:"open",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.elements.length===0)return!1;this.activeSlide=null,this.prevActiveSlideIndex=null,this.prevActiveSlide=null;var o=Ht(r)?r:this.settings.startAt;if(Z(s)){var h=s.getAttribute("data-gallery");h&&(this.fullElementsList=this.elements,this.elements=this.getGalleryElements(this.elements,h)),st(o)&&(o=this.getElementIndex(s))<0&&(o=0)}Ht(o)||(o=0),this.build(),m(this.overlay,this.settings.openEffect==="none"?"none":this.settings.cssEfects.fade.in);var c=document.body,p=window.innerWidth-document.documentElement.clientWidth;if(p>0){var g=document.createElement("style");g.type="text/css",g.className="gcss-styles",g.innerText=".gscrollbar-fixer {margin-right: ".concat(p,"px}"),document.head.appendChild(g),w(c,"gscrollbar-fixer")}w(c,"glightbox-open"),w(di,"glightbox-open"),li&&(w(document.body,"glightbox-mobile"),this.settings.slideEffect="slide"),this.showSlide(o,!0),this.elements.length===1?(w(this.prevButton,"glightbox-button-hidden"),w(this.nextButton,"glightbox-button-hidden")):(A(this.prevButton,"glightbox-button-hidden"),A(this.nextButton,"glightbox-button-hidden")),this.lightboxOpen=!0,this.trigger("open"),q(this.settings.onOpen)&&this.settings.onOpen(),hi&&this.settings.touchNavigation&&Xs(this),this.settings.keyboardNavigation&&ie(this)}},{key:"openAt",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.open(null,s)}},{key:"showSlide",value:function(){var s=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];E(this.loader),this.index=parseInt(r);var h=this.slidesContainer.querySelector(".current");h&&A(h,"current"),this.slideAnimateOut();var c=this.slidesContainer.querySelectorAll(".gslide")[r];if(C(c,"loaded"))this.slideAnimateIn(c,o),k(this.loader);else{E(this.loader);var p=this.elements[r],g={index:this.index,slide:c,slideNode:c,slideConfig:p.slideConfig,slideIndex:this.index,trigger:p.node,player:null};this.trigger("slide_before_load",g),p.instance.setContent(c,(function(){k(s.loader),s.resize(),s.slideAnimateIn(c,o),s.trigger("slide_after_load",g)}))}this.slideDescription=c.querySelector(".gslide-description"),this.slideDescriptionContained=this.slideDescription&&C(this.slideDescription.parentNode,"gslide-media"),this.settings.preload&&(this.preloadSlide(r+1),this.preloadSlide(r-1)),this.updateNavigationClasses(),this.activeSlide=c}},{key:"preloadSlide",value:function(s){var r=this;if(s<0||s>this.elements.length-1||st(this.elements[s]))return!1;var o=this.slidesContainer.querySelectorAll(".gslide")[s];if(C(o,"loaded"))return!1;var h=this.elements[s],c=h.type,p={index:s,slide:o,slideNode:o,slideConfig:h.slideConfig,slideIndex:s,trigger:h.node,player:null};this.trigger("slide_before_load",p),c==="video"||c==="external"?setTimeout((function(){h.instance.setContent(o,(function(){r.trigger("slide_after_load",p)}))}),200):h.instance.setContent(o,(function(){r.trigger("slide_after_load",p)}))}},{key:"prevSlide",value:function(){this.goToSlide(this.index-1)}},{key:"nextSlide",value:function(){this.goToSlide(this.index+1)}},{key:"goToSlide",value:function(){var s=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.prevActiveSlide=this.activeSlide,this.prevActiveSlideIndex=this.index,!this.loop()&&(s<0||s>this.elements.length-1))return!1;s<0?s=this.elements.length-1:s>=this.elements.length&&(s=0),this.showSlide(s)}},{key:"insertSlide",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1;r<0&&(r=this.elements.length);var o=new ve(s,this,r),h=o.getConfig(),c=f({},h),p=o.create(),g=this.elements.length-1;c.index=r,c.node=!1,c.instance=o,c.slideConfig=h,this.elements.splice(r,0,c);var y=null,L=null;if(this.slidesContainer){if(r>g)this.slidesContainer.appendChild(p);else{var I=this.slidesContainer.querySelectorAll(".gslide")[r];this.slidesContainer.insertBefore(p,I)}(this.settings.preload&&this.index==0&&r==0||this.index-1==r||this.index+1==r)&&this.preloadSlide(r),this.index===0&&r===0&&(this.index=1),this.updateNavigationClasses(),y=this.slidesContainer.querySelectorAll(".gslide")[r],L=this.getSlidePlayerInstance(r),c.slideNode=y}this.trigger("slide_inserted",{index:r,slide:y,slideNode:y,slideConfig:h,slideIndex:r,trigger:null,player:L}),q(this.settings.slideInserted)&&this.settings.slideInserted({index:r,slide:y,player:L})}},{key:"removeSlide",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;if(s<0||s>this.elements.length-1)return!1;var r=this.slidesContainer&&this.slidesContainer.querySelectorAll(".gslide")[s];r&&(this.getActiveSlideIndex()==s&&(s==this.elements.length-1?this.prevSlide():this.nextSlide()),r.parentNode.removeChild(r)),this.elements.splice(s,1),this.trigger("slide_removed",s),q(this.settings.slideRemoved)&&this.settings.slideRemoved(s)}},{key:"slideAnimateIn",value:function(s,r){var o=this,h=s.querySelector(".gslide-media"),c=s.querySelector(".gslide-description"),p={index:this.prevActiveSlideIndex,slide:this.prevActiveSlide,slideNode:this.prevActiveSlide,slideIndex:this.prevActiveSlide,slideConfig:st(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].slideConfig,trigger:st(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].node,player:this.getSlidePlayerInstance(this.prevActiveSlideIndex)},g={index:this.index,slide:this.activeSlide,slideNode:this.activeSlide,slideConfig:this.elements[this.index].slideConfig,slideIndex:this.index,trigger:this.elements[this.index].node,player:this.getSlidePlayerInstance(this.index)};if(h.offsetWidth>0&&c&&(k(c),c.style.display=""),A(s,this.effectsClasses),r)m(s,this.settings.cssEfects[this.settings.openEffect].in,(function(){o.settings.autoplayVideos&&o.slidePlayerPlay(s),o.trigger("slide_changed",{prev:p,current:g}),q(o.settings.afterSlideChange)&&o.settings.afterSlideChange.apply(o,[p,g])}));else{var y=this.settings.slideEffect,L=y!=="none"?this.settings.cssEfects[y].in:y;this.prevActiveSlideIndex>this.index&&this.settings.slideEffect=="slide"&&(L=this.settings.cssEfects.slideBack.in),m(s,L,(function(){o.settings.autoplayVideos&&o.slidePlayerPlay(s),o.trigger("slide_changed",{prev:p,current:g}),q(o.settings.afterSlideChange)&&o.settings.afterSlideChange.apply(o,[p,g])}))}setTimeout((function(){o.resize(s)}),100),w(s,"current")}},{key:"slideAnimateOut",value:function(){if(!this.prevActiveSlide)return!1;var s=this.prevActiveSlide;A(s,this.effectsClasses),w(s,"prev");var r=this.settings.slideEffect,o=r!=="none"?this.settings.cssEfects[r].out:r;this.slidePlayerPause(s),this.trigger("slide_before_change",{prev:{index:this.prevActiveSlideIndex,slide:this.prevActiveSlide,slideNode:this.prevActiveSlide,slideIndex:this.prevActiveSlideIndex,slideConfig:st(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].slideConfig,trigger:st(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].node,player:this.getSlidePlayerInstance(this.prevActiveSlideIndex)},current:{index:this.index,slide:this.activeSlide,slideNode:this.activeSlide,slideIndex:this.index,slideConfig:this.elements[this.index].slideConfig,trigger:this.elements[this.index].node,player:this.getSlidePlayerInstance(this.index)}}),q(this.settings.beforeSlideChange)&&this.settings.beforeSlideChange.apply(this,[{index:this.prevActiveSlideIndex,slide:this.prevActiveSlide,player:this.getSlidePlayerInstance(this.prevActiveSlideIndex)},{index:this.index,slide:this.activeSlide,player:this.getSlidePlayerInstance(this.index)}]),this.prevActiveSlideIndex>this.index&&this.settings.slideEffect=="slide"&&(o=this.settings.cssEfects.slideBack.out),m(s,o,(function(){var h=s.querySelector(".ginner-container"),c=s.querySelector(".gslide-media"),p=s.querySelector(".gslide-description");h.style.transform="",c.style.transform="",A(c,"greset"),c.style.opacity="",p&&(p.style.opacity=""),A(s,"prev")}))}},{key:"getAllPlayers",value:function(){return this.videoPlayers}},{key:"getSlidePlayerInstance",value:function(s){var r="gvideo"+s,o=this.getAllPlayers();return!(!$(o,r)||!o[r])&&o[r]}},{key:"stopSlideVideo",value:function(s){if(Z(s)){var r=s.querySelector(".gvideo-wrapper");r&&(s=r.getAttribute("data-index"))}console.log("stopSlideVideo is deprecated, use slidePlayerPause");var o=this.getSlidePlayerInstance(s);o&&o.playing&&o.pause()}},{key:"slidePlayerPause",value:function(s){if(Z(s)){var r=s.querySelector(".gvideo-wrapper");r&&(s=r.getAttribute("data-index"))}var o=this.getSlidePlayerInstance(s);o&&o.playing&&o.pause()}},{key:"playSlideVideo",value:function(s){if(Z(s)){var r=s.querySelector(".gvideo-wrapper");r&&(s=r.getAttribute("data-index"))}console.log("playSlideVideo is deprecated, use slidePlayerPlay");var o=this.getSlidePlayerInstance(s);o&&!o.playing&&o.play()}},{key:"slidePlayerPlay",value:function(s){var r;if(!li||(r=this.settings.plyr.config)!==null&&r!==void 0&&r.muted){if(Z(s)){var o=s.querySelector(".gvideo-wrapper");o&&(s=o.getAttribute("data-index"))}var h=this.getSlidePlayerInstance(s);h&&!h.playing&&(h.play(),this.settings.autofocusVideos&&h.elements.container.focus())}}},{key:"setElements",value:function(s){var r=this;this.settings.elements=!1;var o=[];s&&s.length&&_(s,(function(h,c){var p=new ve(h,r,c),g=p.getConfig(),y=f({},g);y.slideConfig=g,y.instance=p,y.index=c,o.push(y)})),this.elements=o,this.lightboxOpen&&(this.slidesContainer.innerHTML="",this.elements.length&&(_(this.elements,(function(){var h=T(r.settings.slideHTML);r.slidesContainer.appendChild(h)})),this.showSlide(0,!0)))}},{key:"getElementIndex",value:function(s){var r=!1;return _(this.elements,(function(o,h){if($(o,"node")&&o.node==s)return r=h,!0})),r}},{key:"getElements",value:function(){var s=this,r=[];this.elements=this.elements?this.elements:[],!st(this.settings.elements)&&pt(this.settings.elements)&&this.settings.elements.length&&_(this.settings.elements,(function(h,c){var p=new ve(h,s,c),g=p.getConfig(),y=f({},g);y.node=!1,y.index=c,y.instance=p,y.slideConfig=g,r.push(y)}));var o=!1;return this.getSelector()&&(o=document.querySelectorAll(this.getSelector())),o&&_(o,(function(h,c){var p=new ve(h,s,c),g=p.getConfig(),y=f({},g);y.node=h,y.index=c,y.instance=p,y.slideConfig=g,y.gallery=h.getAttribute("data-gallery"),r.push(y)})),r}},{key:"getGalleryElements",value:function(s,r){return s.filter((function(o){return o.gallery==r}))}},{key:"getSelector",value:function(){return!this.settings.elements&&(this.settings.selector&&this.settings.selector.substring(0,5)=="data-"?"*[".concat(this.settings.selector,"]"):this.settings.selector)}},{key:"getActiveSlide",value:function(){return this.slidesContainer.querySelectorAll(".gslide")[this.index]}},{key:"getActiveSlideIndex",value:function(){return this.index}},{key:"getAnimationClasses",value:function(){var s=[];for(var r in this.settings.cssEfects)if(this.settings.cssEfects.hasOwnProperty(r)){var o=this.settings.cssEfects[r];s.push("g".concat(o.in)),s.push("g".concat(o.out))}return s.join(" ")}},{key:"build",value:function(){var s=this;if(this.built)return!1;var r=document.body.childNodes,o=[];_(r,(function(I){I.parentNode==document.body&&I.nodeName.charAt(0)!=="#"&&I.hasAttribute&&!I.hasAttribute("aria-hidden")&&(o.push(I),I.setAttribute("aria-hidden","true"))}));var h=$(this.settings.svg,"next")?this.settings.svg.next:"",c=$(this.settings.svg,"prev")?this.settings.svg.prev:"",p=$(this.settings.svg,"close")?this.settings.svg.close:"",g=this.settings.lightboxHTML;g=T(g=(g=(g=g.replace(/{nextSVG}/g,h)).replace(/{prevSVG}/g,c)).replace(/{closeSVG}/g,p)),document.body.appendChild(g);var y=document.getElementById("glightbox-body");this.modal=y;var L=y.querySelector(".gclose");this.prevButton=y.querySelector(".gprev"),this.nextButton=y.querySelector(".gnext"),this.overlay=y.querySelector(".goverlay"),this.loader=y.querySelector(".gloader"),this.slidesContainer=document.getElementById("glightbox-slider"),this.bodyHiddenChildElms=o,this.events={},w(this.modal,"glightbox-"+this.settings.skin),this.settings.closeButton&&L&&(this.events.close=b("click",{onElement:L,withCallback:function(I,R){I.preventDefault(),s.close()}})),L&&!this.settings.closeButton&&L.parentNode.removeChild(L),this.nextButton&&(this.events.next=b("click",{onElement:this.nextButton,withCallback:function(I,R){I.preventDefault(),s.nextSlide()}})),this.prevButton&&(this.events.prev=b("click",{onElement:this.prevButton,withCallback:function(I,R){I.preventDefault(),s.prevSlide()}})),this.settings.closeOnOutsideClick&&(this.events.outClose=b("click",{onElement:y,withCallback:function(I,R){s.preventOutsideClick||C(document.body,"glightbox-mobile")||v(I.target,".ginner-container")||v(I.target,".gbtn")||C(I.target,"gnext")||C(I.target,"gprev")||s.close()}})),_(this.elements,(function(I,R){s.slidesContainer.appendChild(I.instance.create()),I.slideNode=s.slidesContainer.querySelectorAll(".gslide")[R]})),hi&&w(document.body,"glightbox-touch"),this.events.resize=b("resize",{onElement:window,withCallback:function(){s.resize()}}),this.built=!0}},{key:"resize",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if((s=s||this.activeSlide)&&!C(s,"zoomed")){var r=Y(),o=s.querySelector(".gvideo-wrapper"),h=s.querySelector(".gslide-image"),c=this.slideDescription,p=r.width,g=r.height;if(p<=768?w(document.body,"glightbox-mobile"):A(document.body,"glightbox-mobile"),o||h){var y=!1;if(c&&(C(c,"description-bottom")||C(c,"description-top"))&&!C(c,"gabsolute")&&(y=!0),h){if(p<=768)h.querySelector("img");else if(y){var L,I,R=c.offsetHeight,P=h.querySelector("img"),N=(L=this.elements[this.index])===null||L===void 0?void 0:L.node,H="100vh";N&&(H=(I=N.getAttribute("data-height"))!==null&&I!==void 0?I:H),P.setAttribute("style","max-height: calc(".concat(H," - ").concat(R,"px)")),c.setAttribute("style","max-width: ".concat(P.offsetWidth,"px;"))}}if(o){var W=$(this.settings.plyr.config,"ratio")?this.settings.plyr.config.ratio:"";if(!W){var K=o.clientWidth,_t=o.clientHeight,ct=K/_t;W="".concat(K/ct,":").concat(_t/ct)}var Tt=W.split(":"),nt=this.settings.videosWidth,At=this.settings.videosWidth,Dt=(At=Ht(nt)||nt.indexOf("px")!==-1?parseInt(nt):nt.indexOf("vw")!==-1?p*parseInt(nt)/100:nt.indexOf("vh")!==-1?g*parseInt(nt)/100:nt.indexOf("%")!==-1?p*parseInt(nt)/100:parseInt(o.clientWidth))/(parseInt(Tt[0])/parseInt(Tt[1]));if(Dt=Math.floor(Dt),y&&(g-=c.offsetHeight),At>p||Dt>g||g<Dt&&p>At){var se=o.offsetWidth,Vt=o.offsetHeight,St=g/Vt,xt={width:se*St,height:Vt*St};o.parentNode.setAttribute("style","max-width: ".concat(xt.width,"px")),y&&c.setAttribute("style","max-width: ".concat(xt.width,"px;"))}else o.parentNode.style.maxWidth="".concat(nt),y&&c.setAttribute("style","max-width: ".concat(nt,";"))}}}}},{key:"reload",value:function(){this.init()}},{key:"updateNavigationClasses",value:function(){var s=this.loop();A(this.nextButton,"disabled"),A(this.prevButton,"disabled"),this.index==0&&this.elements.length-1==0?(w(this.prevButton,"disabled"),w(this.nextButton,"disabled")):this.index!==0||s?this.index!==this.elements.length-1||s||w(this.nextButton,"disabled"):w(this.prevButton,"disabled")}},{key:"loop",value:function(){var s=$(this.settings,"loopAtEnd")?this.settings.loopAtEnd:null;return s=$(this.settings,"loop")?this.settings.loop:s,s}},{key:"close",value:function(){var s=this;if(!this.lightboxOpen){if(this.events){for(var r in this.events)this.events.hasOwnProperty(r)&&this.events[r].destroy();this.events=null}return!1}if(this.closing)return!1;this.closing=!0,this.slidePlayerPause(this.activeSlide),this.fullElementsList&&(this.elements=this.fullElementsList),this.bodyHiddenChildElms.length&&_(this.bodyHiddenChildElms,(function(o){o.removeAttribute("aria-hidden")})),w(this.modal,"glightbox-closing"),m(this.overlay,this.settings.openEffect=="none"?"none":this.settings.cssEfects.fade.out),m(this.activeSlide,this.settings.cssEfects[this.settings.closeEffect].out,(function(){if(s.activeSlide=null,s.prevActiveSlideIndex=null,s.prevActiveSlide=null,s.built=!1,s.events){for(var o in s.events)s.events.hasOwnProperty(o)&&s.events[o].destroy();s.events=null}var h=document.body;A(di,"glightbox-open"),A(h,"glightbox-open touching gdesc-open glightbox-touch glightbox-mobile gscrollbar-fixer"),s.modal.parentNode.removeChild(s.modal),s.trigger("close"),q(s.settings.onClose)&&s.settings.onClose();var c=document.querySelector(".gcss-styles");c&&c.parentNode.removeChild(c),s.lightboxOpen=!1,s.closing=null}))}},{key:"destroy",value:function(){this.close(),this.clearAllEvents(),this.baseEvents&&this.baseEvents.destroy()}},{key:"on",value:function(s,r){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(!s||!q(r))throw new TypeError("Event name and callback must be defined");this.apiEvents.push({evt:s,once:o,callback:r})}},{key:"once",value:function(s,r){this.on(s,r,!0)}},{key:"trigger",value:function(s){var r=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,h=[];_(this.apiEvents,(function(c,p){var g=c.evt,y=c.once,L=c.callback;g==s&&(L(o),y&&h.push(p))})),h.length&&_(h,(function(c){return r.apiEvents.splice(c,1)}))}},{key:"clearAllEvents",value:function(){this.apiEvents.splice(0,this.apiEvents.length)}},{key:"version",value:function(){return"3.3.1"}}]);return function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=new qs(s);return r.init(),r}}))})(Ee)),Ee.exports}var Us=js();const Zs=Vs(Us);var Oe={},Wt=typeof Map=="function"?new Map:null,bt="swap",zt="move",Qs="synchronize",Ot="layoutStart",_i="layoutEnd",vi="layoutAbort",gi="add",pi="remove",$s="showStart",Ks="showEnd",re="hideStart",Js="hideEnd",mi="filter",yi="sort",Ae="move",De="send",Yt="beforeSend",ke="receive",Ce="beforeReceive",tn="dragInit",en="dragStart",sn="dragMove",nn="dragScroll",rn="dragEnd",an="dragReleaseStart",ae="dragReleaseEnd",on="destroy",Xi="ontouchstart"in window,ti=!!window.PointerEvent,ei=!!window.navigator.msPointerEnabled,ln=16777216;function gt(){this._events={},this._queue=[],this._counter=0,this._clearOnEmit=!1}gt.prototype.on=function(t,e){if(!this._events||!t||!e)return this;var i=this._events[t];return i||(i=this._events[t]=[]),i.push(e),this};gt.prototype.off=function(t,e){if(!this._events||!t||!e)return this;var i=this._events[t];if(!i||!i.length)return this;for(var n;(n=i.indexOf(e))!==-1;)i.splice(n,1);return this};gt.prototype.clear=function(t){if(!this._events||!t)return this;var e=this._events[t];return e&&(e.length=0,delete this._events[t]),this};gt.prototype.emit=function(t){if(!this._events||!t)return this._clearOnEmit=!1,this;var e=this._events[t];if(!e||!e.length)return this._clearOnEmit=!1,this;var i=this._queue,n=i.length,a=arguments.length-1,d;a>3&&(d=[],d.push.apply(d,arguments),d.shift()),i.push.apply(i,e),this._clearOnEmit&&(e.length=0,this._clearOnEmit=!1),++this._counter;for(var l=n,u=i.length;l<u;l++)if(a===0?i[l]():a===1?i[l](arguments[1]):a===2?i[l](arguments[1],arguments[2]):a===3?i[l](arguments[1],arguments[2],arguments[3]):i[l].apply(null,d),!this._events)return this;return--this._counter,this._counter||(i.length=0),this};gt.prototype.burst=function(){return this._events?(this._clearOnEmit=!0,this.emit.apply(this,arguments),this):this};gt.prototype.countListeners=function(t){if(!this._events)return 0;var e=this._events[t];return e?e.length:0};gt.prototype.destroy=function(){return this._events?(this._queue.length=this._counter=0,this._events=null,this):this};var Ye=ti?"pointerout":ei?"MSPointerOut":"",hn=100;function Nt(t){Ye&&(this._dragger=t,this._timeout=null,this._outEvent=null,this._isActive=!1,this._addBehaviour=this._addBehaviour.bind(this),this._removeBehaviour=this._removeBehaviour.bind(this),this._onTimeout=this._onTimeout.bind(this),this._resetData=this._resetData.bind(this),this._onStart=this._onStart.bind(this),this._onOut=this._onOut.bind(this),this._dragger.on("start",this._onStart))}Nt.prototype._addBehaviour=function(){this._isActive||(this._isActive=!0,this._dragger.on("move",this._resetData),this._dragger.on("cancel",this._removeBehaviour),this._dragger.on("end",this._removeBehaviour),window.addEventListener(Ye,this._onOut))};Nt.prototype._removeBehaviour=function(){this._isActive&&(this._dragger.off("move",this._resetData),this._dragger.off("cancel",this._removeBehaviour),this._dragger.off("end",this._removeBehaviour),window.removeEventListener(Ye,this._onOut),this._resetData(),this._isActive=!1)};Nt.prototype._resetData=function(){window.clearTimeout(this._timeout),this._timeout=null,this._outEvent=null};Nt.prototype._onStart=function(t){t.pointerType!=="mouse"&&this._addBehaviour()};Nt.prototype._onOut=function(t){this._dragger._getTrackedTouch(t)&&(this._resetData(),this._outEvent=t,this._timeout=window.setTimeout(this._onTimeout,hn))};Nt.prototype._onTimeout=function(){var t=this._outEvent;this._resetData(),this._dragger.isActive()&&this._dragger._onCancel(t)};Nt.prototype.destroy=function(){Ye&&(this._dragger.off("start",this._onStart),this._removeBehaviour())};var Ge=["","webkit","moz","ms","o","Webkit","Moz","MS","O"],Si={};function Xe(t,e){var i=Si[e]||"";if(i)return i;for(var n=e[0].toUpperCase()+e.slice(1),a=0;a<Ge.length;){if(i=Ge[a]?Ge[a]+n:e,i in t)return Si[e]=i,i;++a}return""}function Ni(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}catch{}return t}var Ne=window.navigator.userAgent.toLowerCase(),dn=Ne.indexOf("edge")>-1,un=Ne.indexOf("trident")>-1,cn=Ne.indexOf("firefox")>-1,fn=Ne.indexOf("android")>-1,Pt=Ni()?{passive:!0}:!1,qi="touchAction",ye=Xe(document.documentElement.style,qi),_n="auto";function x(t,e){this._element=t,this._emitter=new gt,this._isDestroyed=!1,this._cssProps={},this._touchAction="",this._isActive=!1,this._pointerId=null,this._startTime=0,this._startX=0,this._startY=0,this._currentX=0,this._currentY=0,this._onStart=this._onStart.bind(this),this._onMove=this._onMove.bind(this),this._onCancel=this._onCancel.bind(this),this._onEnd=this._onEnd.bind(this),this._edgeHack=null,(dn||un)&&(ti||ei)&&(this._edgeHack=new Nt(this)),this.setCssProps(e),this._touchAction||this.setTouchAction(_n),t.addEventListener("dragstart",x._preventDefault,!1),t.addEventListener(x._inputEvents.start,this._onStart,Pt)}x._pointerEvents={start:"pointerdown",move:"pointermove",cancel:"pointercancel",end:"pointerup"};x._msPointerEvents={start:"MSPointerDown",move:"MSPointerMove",cancel:"MSPointerCancel",end:"MSPointerUp"};x._touchEvents={start:"touchstart",move:"touchmove",cancel:"touchcancel",end:"touchend"};x._mouseEvents={start:"mousedown",move:"mousemove",cancel:"",end:"mouseup"};x._inputEvents=(function(){return Xi?x._touchEvents:ti?x._pointerEvents:ei?x._msPointerEvents:x._mouseEvents})();x._emitter=new gt;x._emitterEvents={start:"start",move:"move",end:"end",cancel:"cancel"};x._activeInstances=[];x._preventDefault=function(t){t.preventDefault&&t.cancelable!==!1&&t.preventDefault()};x._activateInstance=function(t){var e=x._activeInstances.indexOf(t);e>-1||(x._activeInstances.push(t),x._emitter.on(x._emitterEvents.move,t._onMove),x._emitter.on(x._emitterEvents.cancel,t._onCancel),x._emitter.on(x._emitterEvents.end,t._onEnd),x._activeInstances.length===1&&x._bindListeners())};x._deactivateInstance=function(t){var e=x._activeInstances.indexOf(t);e!==-1&&(x._activeInstances.splice(e,1),x._emitter.off(x._emitterEvents.move,t._onMove),x._emitter.off(x._emitterEvents.cancel,t._onCancel),x._emitter.off(x._emitterEvents.end,t._onEnd),x._activeInstances.length||x._unbindListeners())};x._bindListeners=function(){window.addEventListener(x._inputEvents.move,x._onMove,Pt),window.addEventListener(x._inputEvents.end,x._onEnd,Pt),x._inputEvents.cancel&&window.addEventListener(x._inputEvents.cancel,x._onCancel,Pt)};x._unbindListeners=function(){window.removeEventListener(x._inputEvents.move,x._onMove,Pt),window.removeEventListener(x._inputEvents.end,x._onEnd,Pt),x._inputEvents.cancel&&window.removeEventListener(x._inputEvents.cancel,x._onCancel,Pt)};x._getEventPointerId=function(t){return typeof t.pointerId=="number"?t.pointerId:t.changedTouches?t.changedTouches[0]?t.changedTouches[0].identifier:null:1};x._getTouchById=function(t,e){if(typeof t.pointerId=="number")return t.pointerId===e?t:null;if(t.changedTouches){for(var i=0;i<t.changedTouches.length;i++)if(t.changedTouches[i].identifier===e)return t.changedTouches[i];return null}return t};x._onMove=function(t){x._emitter.emit(x._emitterEvents.move,t)};x._onCancel=function(t){x._emitter.emit(x._emitterEvents.cancel,t)};x._onEnd=function(t){x._emitter.emit(x._emitterEvents.end,t)};x.prototype._reset=function(){this._pointerId=null,this._startTime=0,this._startX=0,this._startY=0,this._currentX=0,this._currentY=0,this._isActive=!1,x._deactivateInstance(this)};x.prototype._createEvent=function(t,e){var i=this._getTrackedTouch(e);return{type:t,srcEvent:e,distance:this.getDistance(),deltaX:this.getDeltaX(),deltaY:this.getDeltaY(),deltaTime:t===x._emitterEvents.start?0:this.getDeltaTime(),isFirst:t===x._emitterEvents.start,isFinal:t===x._emitterEvents.end||t===x._emitterEvents.cancel,pointerType:e.pointerType||(e.touches?"touch":"mouse"),identifier:this._pointerId,screenX:i.screenX,screenY:i.screenY,clientX:i.clientX,clientY:i.clientY,pageX:i.pageX,pageY:i.pageY,target:i.target}};x.prototype._emit=function(t,e){this._emitter.emit(t,this._createEvent(t,e))};x.prototype._getTrackedTouch=function(t){return this._pointerId===null?null:x._getTouchById(t,this._pointerId)};x.prototype._onStart=function(t){if(!this._isDestroyed&&this._pointerId===null&&(this._pointerId=x._getEventPointerId(t),this._pointerId!==null)){var e=this._getTrackedTouch(t);this._startX=this._currentX=e.clientX,this._startY=this._currentY=e.clientY,this._startTime=Date.now(),this._isActive=!0,this._emit(x._emitterEvents.start,t),this._isActive&&x._activateInstance(this)}};x.prototype._onMove=function(t){var e=this._getTrackedTouch(t);e&&(this._currentX=e.clientX,this._currentY=e.clientY,this._emit(x._emitterEvents.move,t))};x.prototype._onCancel=function(t){this._getTrackedTouch(t)&&(this._emit(x._emitterEvents.cancel,t),this._reset())};x.prototype._onEnd=function(t){this._getTrackedTouch(t)&&(this._emit(x._emitterEvents.end,t),this._reset())};x.prototype.isActive=function(){return this._isActive};x.prototype.setTouchAction=function(t){this._touchAction=t,ye&&(this._cssProps[ye]="",this._element.style[ye]=t),Xi&&(this._element.removeEventListener(x._touchEvents.start,x._preventDefault,!0),(this._element.style[ye]!==t||cn&&fn)&&this._element.addEventListener(x._touchEvents.start,x._preventDefault,!0))};x.prototype.setCssProps=function(t){if(t){var e=this._cssProps,i=this._element,n,a;for(n in e)i.style[n]=e[n],delete e[n];for(n in t)if(t[n]){if(n===qi){this.setTouchAction(t[n]);continue}a=Xe(i.style,n),a&&(e[a]="",i.style[a]=t[n])}}};x.prototype.getDeltaX=function(){return this._currentX-this._startX};x.prototype.getDeltaY=function(){return this._currentY-this._startY};x.prototype.getDistance=function(){var t=this.getDeltaX(),e=this.getDeltaY();return Math.sqrt(t*t+e*e)};x.prototype.getDeltaTime=function(){return this._startTime?Date.now()-this._startTime:0};x.prototype.on=function(t,e){this._emitter.on(t,e)};x.prototype.off=function(t,e){this._emitter.off(t,e)};x.prototype.destroy=function(){if(!this._isDestroyed){var t=this._element;this._edgeHack&&this._edgeHack.destroy(),this._reset(),this._emitter.destroy(),t.removeEventListener(x._inputEvents.start,this._onStart,Pt),t.removeEventListener("dragstart",x._preventDefault,!1),t.removeEventListener(x._touchEvents.start,x._preventDefault,!0);for(var e in this._cssProps)t.style[e]=this._cssProps[e],delete this._cssProps[e];this._element=null,this._isDestroyed=!0}};var vn=1e3/60,gn=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return this.setTimeout(function(){t(Date.now())},vn)}).bind(window);function qe(t){this._nextStep=null,this._lanes=[],this._stepQueue=[],this._stepCallbacks={},this._step=this._step.bind(this);for(var e=0;e<t;e++)this._lanes.push(new ii)}qe.prototype._step=function(t){var e=this._lanes,i=this._stepQueue,n=this._stepCallbacks,a,d,l,u,f,_;for(this._nextStep=null,a=0;a<e.length;a++){for(u=e[a].queue,f=e[a].callbacks,_=e[a].indices,d=0;d<u.length;d++)l=u[d],l&&(i.push(l),n[l]=f[l],delete f[l],delete _[l]);u.length=0}for(a=0;a<i.length;a++)l=i[a],n[l]&&n[l](t),delete n[l];i.length=0};qe.prototype.add=function(t,e,i){this._lanes[t].add(e,i),this._nextStep||(this._nextStep=gn(this._step))};qe.prototype.remove=function(t,e){this._lanes[t].remove(e)};function ii(){this.queue=[],this.indices={},this.callbacks={}}ii.prototype.add=function(t,e){var i=this.indices[t];i!==void 0&&(this.queue[i]=void 0),this.queue.push(t),this.callbacks[t]=e,this.indices[t]=this.queue.length-1};ii.prototype.remove=function(t){var e=this.indices[t];e!==void 0&&(this.queue[e]=void 0,delete this.callbacks[t],delete this.indices[t])};var Hi="layoutRead",Bi="layoutWrite",Wi="visibilityRead",zi="visibilityWrite",Gi="dragStartRead",Vi="dragStartWrite",Fi="dragMoveRead",ji="dragMoveWrite",Ui="dragScrollRead",Zi="dragScrollWrite",Qi="dragSortRead",$i="placeholderLayoutRead",Ki="placeholderLayoutWrite",Ji="placeholderResizeWrite",ts="autoScrollRead",es="autoScrollWrite",is="debounceRead",at=0,ss=1,ot=2,z=new qe(3);function pn(t,e,i){z.add(at,Hi+t,e),z.add(ot,Bi+t,i)}function ns(t){z.remove(at,Hi+t),z.remove(ot,Bi+t)}function mn(t,e,i){z.add(at,Wi+t,e),z.add(ot,zi+t,i)}function rs(t){z.remove(at,Wi+t),z.remove(ot,zi+t)}function yn(t,e,i){z.add(at,Gi+t,e),z.add(ot,Vi+t,i)}function as(t){z.remove(at,Gi+t),z.remove(ot,Vi+t)}function Sn(t,e,i){z.add(at,Fi+t,e),z.add(ot,ji+t,i)}function os(t){z.remove(at,Fi+t),z.remove(ot,ji+t)}function xn(t,e,i){z.add(at,Ui+t,e),z.add(ot,Zi+t,i)}function ls(t){z.remove(at,Ui+t),z.remove(ot,Zi+t)}function He(t,e){z.add(ss,Qi+t,e)}function bn(t){z.remove(ss,Qi+t)}function En(t,e,i){z.add(at,$i+t,e),z.add(ot,Ki+t,i)}function hs(t){z.remove(at,$i+t),z.remove(ot,Ki+t)}function wn(t,e){z.add(ot,Ji+t,e)}function Tn(t){z.remove(ot,Ji+t)}function ds(t,e){z.add(at,ts,t),z.add(ot,es,e)}function An(){z.remove(at,ts),z.remove(ot,es)}function Dn(t,e){z.add(at,is+t,e)}function kn(t){z.remove(at,is+t)}var J=1,it=2,Kt=4,si=8,oe=J|si,le=J|Kt,he=it|si,Ie=it|Kt,Cn="function";function X(t){return typeof t===Cn}var Se=typeof WeakMap=="function"?new WeakMap:null;function ut(t,e){var i=Se&&Se.get(t);return i||(i=window.getComputedStyle(t,null),Se&&Se.set(t,i)),i.getPropertyValue(e)}function vt(t,e){return parseFloat(ut(t,e))||0}var Gt=document.documentElement,In=document.body,xe={value:0,offset:0};function us(t){return t===window||t===Gt||t===In?window:t}function de(t){return t===window?t.pageXOffset:t.scrollLeft}function ue(t){return t===window?t.pageYOffset:t.scrollTop}function cs(t){return t===window?Gt.scrollWidth-Gt.clientWidth:t.scrollWidth-t.clientWidth}function fs(t){return t===window?Gt.scrollHeight-Gt.clientHeight:t.scrollHeight-t.clientHeight}function _s(t,e){if(e=e||{},t===window)e.width=Gt.clientWidth,e.height=Gt.clientHeight,e.left=0,e.right=e.width,e.top=0,e.bottom=e.height;else{var i=t.getBoundingClientRect(),n=t.clientLeft||vt(t,"border-left-width"),a=t.clientTop||vt(t,"border-top-width");e.width=t.clientWidth,e.height=t.clientHeight,e.left=i.left+n,e.right=e.left+e.width,e.top=i.top+a,e.bottom=e.top+e.height}return e}function fe(t){return t._drag._getGrid()._settings.dragAutoScroll}function Ln(t){t._drag&&t._drag._prepareScroll()}function Rn(t){if(!(!t._drag||!t._isActive)){var e=t._drag;e._scrollDiffX=e._scrollDiffY=0,t._setTranslate(e._left,e._top)}}function Ze(t,e,i,n){return xe.value=Math.min(n/2,t),xe.offset=Math.max(0,i+xe.value*2+n*e-n)/2,xe}function Ct(){this.reset()}Ct.prototype.reset=function(){this.isActive&&this.onStop(),this.item=null,this.element=null,this.isActive=!1,this.isEnding=!1,this.direction=null,this.value=null,this.maxValue=0,this.threshold=0,this.distance=0,this.speed=0,this.duration=0,this.action=null};Ct.prototype.hasReachedEnd=function(){return Kt&this.direction?this.value>=this.maxValue:this.value<=0};Ct.prototype.computeCurrentScrollValue=function(){return this.value===null?J&this.direction?de(this.element):ue(this.element):Math.max(0,Math.min(this.value,this.maxValue))};Ct.prototype.computeNextScrollValue=function(t){var e=this.speed*(t/1e3),i=Kt&this.direction?this.value+e:this.value-e;return Math.max(0,Math.min(i,this.maxValue))};Ct.prototype.computeSpeed=(function(){var t={direction:null,threshold:0,distance:0,value:0,maxValue:0,deltaTime:0,duration:0,isEnding:!1};return function(e){var i=this.item,n=fe(i).speed;return X(n)?(t.direction=this.direction,t.threshold=this.threshold,t.distance=this.distance,t.value=this.value,t.maxValue=this.maxValue,t.duration=this.duration,t.speed=this.speed,t.deltaTime=e,t.isEnding=this.isEnding,n(i,this.element,t)):n}})();Ct.prototype.tick=function(t){return this.isActive||(this.isActive=!0,this.onStart()),this.value=this.computeCurrentScrollValue(),this.speed=this.computeSpeed(t),this.value=this.computeNextScrollValue(t),this.duration+=t,this.value};Ct.prototype.onStart=function(){var t=this.item,e=fe(t).onStart;X(e)&&e(t,this.element,this.direction)};Ct.prototype.onStop=function(){var t=this.item,e=fe(t).onStop;X(e)&&e(t,this.element,this.direction),t._drag&&t._drag.sort()};function Jt(){this.element=null,this.requestX=null,this.requestY=null,this.scrollLeft=0,this.scrollTop=0}Jt.prototype.reset=function(){this.requestX&&(this.requestX.action=null),this.requestY&&(this.requestY.action=null),this.element=null,this.requestX=null,this.requestY=null,this.scrollLeft=0,this.scrollTop=0};Jt.prototype.addRequest=function(t){J&t.direction?(this.removeRequest(this.requestX),this.requestX=t):(this.removeRequest(this.requestY),this.requestY=t),t.action=this};Jt.prototype.removeRequest=function(t){t&&(this.requestX===t?(this.requestX=null,t.action=null):this.requestY===t&&(this.requestY=null,t.action=null))};Jt.prototype.computeScrollValues=function(){this.scrollLeft=this.requestX?this.requestX.value:de(this.element),this.scrollTop=this.requestY?this.requestY.value:ue(this.element)};Jt.prototype.scroll=function(){var t=this.element;t&&(t.scrollTo?t.scrollTo(this.scrollLeft,this.scrollTop):(t.scrollLeft=this.scrollLeft,t.scrollTop=this.scrollTop))};function ce(t,e){this.pool=[],this.createItem=t,this.releaseItem=e}ce.prototype.pick=function(){return this.pool.pop()||this.createItem()};ce.prototype.release=function(t){this.releaseItem(t),this.pool.indexOf(t)===-1&&this.pool.push(t)};ce.prototype.reset=function(){this.pool.length=0};function Pn(t,e){return!(t.left+t.width<=e.left||e.left+e.width<=t.left||t.top+t.height<=e.top||e.top+e.height<=t.top)}function Mn(t,e){if(!Pn(t,e))return 0;var i=Math.min(t.left+t.width,e.left+e.width)-Math.max(t.left,e.left),n=Math.min(t.top+t.height,e.top+e.height)-Math.max(t.top,e.top);return i*n}function Le(t,e){var i=Mn(t,e);if(!i)return 0;var n=Math.min(t.width,e.width)*Math.min(t.height,e.height);return i/n*100}var vs={width:0,height:0,left:0,right:0,top:0,bottom:0},gs={width:0,height:0,left:0,right:0,top:0,bottom:0};function G(){this._isDestroyed=!1,this._isTicking=!1,this._tickTime=0,this._tickDeltaTime=0,this._items=[],this._actions=[],this._requests={},this._requests[J]={},this._requests[it]={},this._requestOverlapCheck={},this._dragPositions={},this._dragDirections={},this._overlapCheckInterval=150,this._requestPool=new ce(function(){return new Ct},function(t){t.reset()}),this._actionPool=new ce(function(){return new Jt},function(t){t.reset()}),this._readTick=this._readTick.bind(this),this._writeTick=this._writeTick.bind(this)}G.AXIS_X=J;G.AXIS_Y=it;G.FORWARD=Kt;G.BACKWARD=si;G.LEFT=oe;G.RIGHT=le;G.UP=he;G.DOWN=Ie;G.smoothSpeed=function(t,e,i){return function(n,a,d){var l=0;if(!d.isEnding)if(d.threshold>0){var u=d.threshold-Math.max(0,d.distance);l=t/d.threshold*u}else l=t;var f=d.speed,_=l;return f===l?_:f<l?(_=f+e*(d.deltaTime/1e3),Math.min(l,_)):(_=f-i*(d.deltaTime/1e3),Math.max(l,_))}};G.pointerHandle=function(t){var e={left:0,top:0,width:0,height:0},i=t||1;return function(n,a,d,l,u,f,_){return e.left=f-i*.5,e.top=_-i*.5,e.width=i,e.height=i,e}};G.prototype._readTick=function(t){this._isDestroyed||(t&&this._tickTime?(this._tickDeltaTime=t-this._tickTime,this._tickTime=t,this._updateRequests(),this._updateActions()):(this._tickTime=t,this._tickDeltaTime=0))};G.prototype._writeTick=function(){this._isDestroyed||(this._applyActions(),ds(this._readTick,this._writeTick))};G.prototype._startTicking=function(){this._isTicking=!0,ds(this._readTick,this._writeTick)};G.prototype._stopTicking=function(){this._isTicking=!1,this._tickTime=0,this._tickDeltaTime=0,An()};G.prototype._getItemHandleRect=function(t,e,i){var n=t._drag;if(e){var a=n._dragMoveEvent||n._dragStartEvent,d=e(t,n._clientX,n._clientY,t._width,t._height,a.clientX,a.clientY);i.left=d.left,i.top=d.top,i.width=d.width,i.height=d.height}else i.left=n._clientX,i.top=n._clientY,i.width=t._width,i.height=t._height;return i.right=i.left+i.width,i.bottom=i.top+i.height,i};G.prototype._requestItemScroll=function(t,e,i,n,a,d,l){var u=this._requests[e],f=u[t._id];f?(f.element!==i||f.direction!==n)&&f.reset():f=this._requestPool.pick(),f.item=t,f.element=i,f.direction=n,f.threshold=a,f.distance=d,f.maxValue=l,u[t._id]=f};G.prototype._cancelItemScroll=function(t,e){var i=this._requests[e],n=i[t._id];n&&(n.action&&n.action.removeRequest(n),this._requestPool.release(n),delete i[t._id])};G.prototype._checkItemOverlap=function(t,e,i){var n=fe(t),a=X(n.targets)?n.targets(t):n.targets,d=n.threshold,l=n.safeZone;if(!a||!a.length){e&&this._cancelItemScroll(t,J),i&&this._cancelItemScroll(t,it);return}var u=this._dragDirections[t._id],f=u[0],_=u[1];if(!f&&!_){e&&this._cancelItemScroll(t,J),i&&this._cancelItemScroll(t,it);return}for(var S=this._getItemHandleRect(t,n.handle,vs),b=gs,w=null,A=null,C=!0,v=!0,m=0,D=0,E=null,k=null,T=0,Y=0,V=0,Q=null,tt=-1/0,B=0,q=0,j=null,Z=0,pt=0,et=null,mt=-1/0,st=0,$=0,te=null,Ht=0,ee=0,ie=0;ie<a.length;ie++)w=a[ie],C=e&&f&&w.axis!==it,v=i&&_&&w.axis!==J,D=w.priority||0,!((!C||D<tt)&&(!v||D<mt))&&(A=us(w.element||w),Y=C?cs(A):-1,V=v?fs(A):-1,!(!Y&&!V)&&(b=_s(A,b),m=Le(S,b),!(m<=0)&&(C&&D>=tt&&Y>0&&(D>tt||m>q)&&(k=null,E=Ze(typeof w.threshold=="number"?w.threshold:d,l,S.width,b.width),f===le?(T=b.right+E.offset-S.right,T<=E.value&&de(A)<Y&&(k=le)):f===oe&&(T=S.left-(b.left-E.offset),T<=E.value&&de(A)>0&&(k=oe)),k!==null&&(Q=A,tt=D,B=E.value,q=m,j=k,Z=T,pt=Y)),v&&D>=mt&&V>0&&(D>mt||m>$)&&(k=null,E=Ze(typeof w.threshold=="number"?w.threshold:d,l,S.height,b.height),_===Ie?(T=b.bottom+E.offset-S.bottom,T<=E.value&&ue(A)<V&&(k=Ie)):_===he&&(T=S.top-(b.top-E.offset),T<=E.value&&ue(A)>0&&(k=he)),k!==null&&(et=A,mt=D,st=E.value,$=m,te=k,Ht=T,ee=V)))));e&&(Q?this._requestItemScroll(t,J,Q,j,B,Z,pt):this._cancelItemScroll(t,J)),i&&(et?this._requestItemScroll(t,it,et,te,st,Ht,ee):this._cancelItemScroll(t,it))};G.prototype._updateScrollRequest=function(t){for(var e=t.item,i=fe(e),n=X(i.targets)?i.targets(e):i.targets,a=n&&n.length||0,d=i.threshold,l=i.safeZone,u=this._getItemHandleRect(e,i.handle,vs),f=gs,_=null,S=null,b=!1,w=null,A=null,C=null,v=null,m=null,D=null,E=0;E<a;E++)if(_=n[E],S=us(_.element||_),S===t.element){if(b=!!(J&t.direction),b){if(_.axis===it)continue}else if(_.axis===J)continue;if(m=b?cs(S):fs(S),m<=0||(f=_s(S,f),w=Le(u,f),w<=0)||(A=Ze(typeof _.threshold=="number"?_.threshold:d,l,b?u.width:u.height,b?f.width:f.height),t.direction===oe?C=u.left-(f.left-A.offset):t.direction===le?C=f.right+A.offset-u.right:t.direction===he?C=u.top-(f.top-A.offset):C=f.bottom+A.offset-u.bottom,C>A.value)||(v=b?de(S):ue(S),D=Kt&t.direction?v>=m:v<=0,D))break;return t.maxValue=m,t.threshold=A.value,t.distance=C,t.isEnding=!1,!0}return i.smoothStop===!0&&t.speed>0?(D===null&&(D=t.hasReachedEnd()),t.isEnding=!D):t.isEnding=!1,t.isEnding};G.prototype._updateRequests=function(){for(var t=this._items,e=this._requests[J],i=this._requests[it],n,a,d,l,u,f,_,S=0;S<t.length;S++)n=t[S],l=this._requestOverlapCheck[n._id],u=l>0&&this._tickTime-l>this._overlapCheckInterval,f=!0,a=e[n._id],a&&a.isActive&&(f=!this._updateScrollRequest(a),f&&(u=!0,this._cancelItemScroll(n,J))),_=!0,d=i[n._id],d&&d.isActive&&(_=!this._updateScrollRequest(d),_&&(u=!0,this._cancelItemScroll(n,it))),u&&(this._requestOverlapCheck[n._id]=0,this._checkItemOverlap(n,f,_))};G.prototype._requestAction=function(t,e){for(var i=this._actions,n=e===J,a=null,d=0;d<i.length;d++){if(a=i[d],t.element!==a.element){a=null;continue}if(n?a.requestX:a.requestY){this._cancelItemScroll(t.item,e);return}break}a||(a=this._actionPool.pick()),a.element=t.element,a.addRequest(t),t.tick(this._tickDeltaTime),i.push(a)};G.prototype._updateActions=function(){var t=this._items,e=this._requests,i=this._actions,n,a,d,l;for(l=0;l<t.length;l++)n=t[l]._id,a=e[J][n],d=e[it][n],a&&this._requestAction(a,J),d&&this._requestAction(d,it);for(l=0;l<i.length;l++)i[l].computeScrollValues()};G.prototype._applyActions=function(){var t=this._actions,e=this._items,i;if(t.length){for(i=0;i<t.length;i++)t[i].scroll(),this._actionPool.release(t[i]);for(t.length=0,i=0;i<e.length;i++)Ln(e[i]);for(i=0;i<e.length;i++)Rn(e[i])}};G.prototype._updateDragDirection=function(t){var e=this._dragPositions[t._id],i=this._dragDirections[t._id],n=t._drag._left,a=t._drag._top;if(e.length){var d=e[0],l=e[1];i[0]=n>d?le:n<d?oe:i[0]||0,i[1]=a>l?Ie:a<l?he:i[1]||0}e[0]=n,e[1]=a};G.prototype.addItem=function(t){if(!this._isDestroyed){var e=this._items.indexOf(t);e===-1&&(this._items.push(t),this._requestOverlapCheck[t._id]=this._tickTime,this._dragDirections[t._id]=[0,0],this._dragPositions[t._id]=[],this._isTicking||this._startTicking())}};G.prototype.updateItem=function(t){this._isDestroyed||this._dragDirections[t._id]&&(this._updateDragDirection(t),this._requestOverlapCheck[t._id]||(this._requestOverlapCheck[t._id]=this._tickTime))};G.prototype.removeItem=function(t){if(!this._isDestroyed){var e=this._items.indexOf(t);if(e!==-1){var i=t._id,n=this._requests[J][i];n&&(this._cancelItemScroll(t,J),delete this._requests[J][i]);var a=this._requests[it][i];a&&(this._cancelItemScroll(t,it),delete this._requests[it][i]),delete this._requestOverlapCheck[i],delete this._dragPositions[i],delete this._dragDirections[i],this._items.splice(e,1),this._isTicking&&!this._items.length&&this._stopTicking()}}};G.prototype.isItemScrollingX=function(t){var e=this._requests[J][t._id];return!!(e&&e.isActive)};G.prototype.isItemScrollingY=function(t){var e=this._requests[it][t._id];return!!(e&&e.isActive)};G.prototype.isItemScrolling=function(t){return this.isItemScrollingX(t)||this.isItemScrollingY(t)};G.prototype.destroy=function(){if(!this._isDestroyed){for(var t=this._items.slice(0),e=0;e<t.length;e++)this.removeItem(t[e]);this._actions.length=0,this._requestPool.reset(),this._actionPool.reset(),this._isDestroyed=!0}};var Ft=window.Element.prototype,On=Ft.matches||Ft.matchesSelector||Ft.webkitMatchesSelector||Ft.mozMatchesSelector||Ft.msMatchesSelector||Ft.oMatchesSelector||function(){return!1};function Be(t,e){return On.call(t,e)}function ft(t,e){e&&(t.classList?t.classList.add(e):Be(t,"."+e)||(t.className+=" "+e))}var xi=[],Yn="number";function ni(t,e,i){var n=typeof i===Yn?i:-1;n<0&&(n=t.length-n+1),t.splice.apply(t,xi.concat(n,0,e)),xi.length=0}function Zt(t,e,i){var n=Math.max(0,t.length-1+(i||0));return e>n?n:e<0?Math.max(n+e+1,0):e}function ps(t,e,i){if(!(t.length<2)){var n=Zt(t,e),a=Zt(t,i);n!==a&&t.splice(a,0,t.splice(n,1)[0])}}function ms(t,e,i){if(!(t.length<2)){var n=Zt(t,e),a=Zt(t,i),d;n!==a&&(d=t[n],t[n]=t[a],t[a]=d)}}var Et=Xe(document.documentElement.style,"transform")||"transform",Xn=/([A-Z])/g,Nn=/^(webkit-|moz-|ms-|o-)/,qn=/^(-m-s-)/;function Qe(t){var e=t.replace(Xn,"-$1").toLowerCase();return e=e.replace(Nn,"-$1"),e=e.replace(qn,"-ms-"),e}var ys=Qe(Et),Hn="none",Bn="inline",Wn="none",zn="display";function Gn(t){var e=ut(t,ys);if(!e||e===Hn)return!1;var i=ut(t,zn);return!(i===Bn||i===Wn)}function $e(t){for(var e=document,i=t||e;i&&i!==e&&ut(i,"position")==="static"&&!Gn(i);)i=i.parentElement||e;return i}var Ve={},Fe={},Bt={};function bi(t,e){var i=e||{},n;return i.left=0,i.top=0,t===document||(i.left=window.pageXOffset||0,i.top=window.pageYOffset||0,t.self===window.self)||(n=t.getBoundingClientRect(),i.left+=n.left,i.top+=n.top,i.left+=vt(t,"border-left-width"),i.top+=vt(t,"border-top-width")),i}function Qt(t,e,i){return Bt.left=0,Bt.top=0,t===e||i&&(t=$e(t),e=$e(e),t===e)||(bi(t,Ve),bi(e,Fe),Bt.left=Fe.left-Ve.left,Bt.top=Fe.top-Ve.top),Bt}function je(t){return t==="auto"||t==="scroll"||t==="overlay"}function Vn(t){return je(ut(t,"overflow"))||je(ut(t,"overflow-x"))||je(ut(t,"overflow-y"))}function Ei(t,e){for(e=e||[];t&&t!==document;){if(t.getRootNode&&t instanceof DocumentFragment){t=t.getRootNode().host;continue}Vn(t)&&e.push(t),t=t.parentNode}return e.push(window),e}var jt={},Fn="none",jn=/^matrix3d/,Un=/([^,]*,){4}/,Zn=/([^,]*,){12}/,Qn=/[^,]*,/;function kt(t){jt.x=0,jt.y=0;var e=ut(t,ys);if(!e||e===Fn)return jt;var i=jn.test(e),n=e.replace(i?Zn:Un,""),a=n.replace(Qn,"");return jt.x=parseFloat(n)||0,jt.y=parseFloat(a)||0,jt}function rt(t,e){e&&(t.classList?t.classList.remove(e):Be(t,"."+e)&&(t.className=(" "+t.className+" ").replace(" "+e+" "," ").trim()))}var $n=/^(iPad|iPhone|iPod)/.test(window.navigator.platform)||/^Mac/.test(window.navigator.platform)&&window.navigator.maxTouchPoints>1,Re=0,Ke=1,Pe=2,Ss=Ni()?{passive:!0}:!1;function M(t){var e=t._element,i=t.getGrid(),n=i._settings;this._item=t,this._gridId=i._id,this._isDestroyed=!1,this._isMigrating=!1,this._startPredicate=X(n.dragStartPredicate)?n.dragStartPredicate:M.defaultStartPredicate,this._startPredicateState=Re,this._startPredicateResult=void 0,this._isSortNeeded=!1,this._sortTimer=void 0,this._blockedSortIndex=null,this._sortX1=0,this._sortX2=0,this._sortY1=0,this._sortY2=0,this._reset(),this._preStartCheck=this._preStartCheck.bind(this),this._preEndCheck=this._preEndCheck.bind(this),this._onScroll=this._onScroll.bind(this),this._prepareStart=this._prepareStart.bind(this),this._applyStart=this._applyStart.bind(this),this._prepareMove=this._prepareMove.bind(this),this._applyMove=this._applyMove.bind(this),this._prepareScroll=this._prepareScroll.bind(this),this._applyScroll=this._applyScroll.bind(this),this._handleSort=this._handleSort.bind(this),this._handleSortDelayed=this._handleSortDelayed.bind(this),this._handle=n.dragHandle&&e.querySelector(n.dragHandle)||e,this._dragger=new x(this._handle,n.dragCssProps),this._dragger.on("start",this._preStartCheck),this._dragger.on("move",this._preStartCheck),this._dragger.on("cancel",this._preEndCheck),this._dragger.on("end",this._preEndCheck)}M.autoScroller=new G;M.defaultStartPredicate=function(t,e,i){var n=t._drag;if(e.isFirst&&e.srcEvent.button||!$n&&e.isFirst&&e.srcEvent.isTrusted===!0&&e.srcEvent.defaultPrevented===!1&&e.srcEvent.cancelable===!1)return!1;if(e.isFinal){n._finishStartPredicate(e);return}var a=n._startPredicateData;if(!a){var d=i||n._getGrid()._settings.dragStartPredicate||{};n._startPredicateData=a={distance:Math.max(d.distance,0)||0,delay:Math.max(d.delay,0)||0}}return a.delay&&(a.event=e,a.delayTimer||(a.delayTimer=window.setTimeout(function(){a.delay=0,n._resolveStartPredicate(a.event)&&(n._forceResolveStartPredicate(a.event),n._resetStartPredicate())},a.delay))),n._resolveStartPredicate(e)};M.defaultSortPredicate=(function(){var t={},e={},i={},n=[],a=1,d=100;function l(u,f,_){var S=null,b=f._settings.dragSort,w=-1,A,C,v,m,D,E,k,T,Y,V;if(b===!0?(n[0]=f,C=n):X(b)&&(C=b.call(f,u)),!C||!Array.isArray(C)||!C.length)return S;for(V=0;V<C.length;V++)if(v=C[V],!v._isDestroyed){for(v._updateBoundingRect(),E=Math.max(0,v._left),k=Math.max(0,v._top),T=Math.min(window.innerWidth,v._right),Y=Math.min(window.innerHeight,v._bottom),m=v._element.parentNode;m&&m!==document&&m!==document.documentElement&&m!==document.body;){if(m.getRootNode&&m instanceof DocumentFragment){m=m.getRootNode().host;continue}if(ut(m,"overflow")!=="visible"&&(D=m.getBoundingClientRect(),E=Math.max(E,D.left),k=Math.max(k,D.top),T=Math.min(T,D.right),Y=Math.min(Y,D.bottom)),ut(m,"position")==="fixed")break;m=m.parentNode}E>=T||k>=Y||(e.left=E,e.top=k,e.width=T-E,e.height=Y-k,A=Le(t,e),A>_&&A>w&&(w=A,S=v))}return n.length=0,S}return function(u,f){var _=u._drag,S=_._getGrid(),b=f&&typeof f.threshold=="number"?f.threshold:50,w=f&&f.action===bt?bt:zt,A=f&&f.migrateAction===bt?bt:zt;b=Math.min(Math.max(b,a),d),t.width=u._width,t.height=u._height,t.left=_._clientX,t.top=_._clientY;var C=l(u,S,b);if(!C)return null;var v=u.getGrid()!==C,m=0,D=0,E=0,k=-1,T=!1,Y,V,Q;for(C===S?(t.left=_._gridX+u._marginLeft,t.top=_._gridY+u._marginTop):(C._updateBorders(1,0,1,0),m=C._left+C._borderLeft,D=C._top+C._borderTop),Q=0;Q<C._items.length;Q++)Y=C._items[Q],!(!Y._isActive||Y===u)&&(T=!0,e.width=Y._width,e.height=Y._height,e.left=Y._left+Y._marginLeft+m,e.top=Y._top+Y._marginTop+D,V=Le(t,e),V>E&&(k=Q,E=V));return v&&E<b&&(k=T?k:0,E=b),E>=b?(i.grid=C,i.index=k,i.action=v?A:w,i):null}})();M.prototype.stop=function(){if(this._isActive){if(this._isMigrating){this._finishMigration();return}var t=this._item,e=t._id;if(M.autoScroller.removeItem(t),as(e),os(e),ls(e),this._cancelSort(),this._isStarted){this._unbindScrollListeners();var i=t._element,n=this._getGrid(),a=n._settings.itemDraggingClass;i.parentNode!==n._element&&(n._element.appendChild(i),t._setTranslate(this._gridX,this._gridY),a&&i.clientWidth),rt(i,a)}this._reset()}};M.prototype.sort=function(t){var e=this._item;this._isActive&&e._isActive&&this._dragMoveEvent&&(t===!0?this._handleSort():He(e._id,this._handleSort))};M.prototype.destroy=function(){this._isDestroyed||(this.stop(),this._dragger.destroy(),M.autoScroller.removeItem(this._item),this._isDestroyed=!0)};M.prototype._getGrid=function(){return Oe[this._gridId]||null};M.prototype._reset=function(){this._isActive=!1,this._isStarted=!1,this._container=null,this._containingBlock=null,this._dragStartEvent=null,this._dragMoveEvent=null,this._dragPrevMoveEvent=null,this._scrollEvent=null,this._scrollers=[],this._left=0,this._top=0,this._gridX=0,this._gridY=0,this._clientX=0,this._clientY=0,this._scrollDiffX=0,this._scrollDiffY=0,this._moveDiffX=0,this._moveDiffY=0,this._containerDiffX=0,this._containerDiffY=0};M.prototype._bindScrollListeners=function(){var t=this._getGrid()._element,e=this._container,i=this._scrollers,n,a;if(i.length=0,Ei(this._item._element.parentNode,i),e!==t)for(n=[],Ei(t,n),a=0;a<n.length;a++)i.indexOf(n[a])<0&&i.push(n[a]);for(a=0;a<i.length;a++)i[a].addEventListener("scroll",this._onScroll,Ss)};M.prototype._unbindScrollListeners=function(){var t=this._scrollers,e;for(e=0;e<t.length;e++)t[e].removeEventListener("scroll",this._onScroll,Ss);t.length=0};M.prototype._resolveStartPredicate=function(t){var e=this._startPredicateData;if(!(t.distance<e.distance||e.delay))return this._resetStartPredicate(),!0};M.prototype._forceResolveStartPredicate=function(t){!this._isDestroyed&&this._startPredicateState===Ke&&(this._startPredicateState=Pe,this._onStart(t))};M.prototype._finishStartPredicate=function(t){var e=this._item._element,i=Math.abs(t.deltaX)<2&&Math.abs(t.deltaY)<2&&t.deltaTime<200;this._resetStartPredicate(),i&&Kn(e)};M.prototype._resetHeuristics=function(t,e){this._blockedSortIndex=null,this._sortX1=this._sortX2=t,this._sortY1=this._sortY2=e};M.prototype._checkHeuristics=function(t,e){var i=this._getGrid()._settings.dragSortHeuristics,n=i.minDragDistance;if(n<=0)return this._blockedSortIndex=null,!0;var a=t-this._sortX2,d=e-this._sortY2,l=n>3&&i.minBounceBackAngle>0;if(l||(this._blockedSortIndex=null),Math.abs(a)>n||Math.abs(d)>n){if(l){var u=Math.atan2(a,d),f=Math.atan2(this._sortX2-this._sortX1,this._sortY2-this._sortY1),_=Math.atan2(Math.sin(u-f),Math.cos(u-f));Math.abs(_)>i.minBounceBackAngle&&(this._blockedSortIndex=null)}return this._sortX1=this._sortX2,this._sortY1=this._sortY2,this._sortX2=t,this._sortY2=e,!0}return!1};M.prototype._resetStartPredicate=function(){var t=this._startPredicateData;t&&(t.delayTimer&&(t.delayTimer=window.clearTimeout(t.delayTimer)),this._startPredicateData=null)};M.prototype._handleSort=function(){if(this._isActive){var t=this._getGrid()._settings;if(!t.dragSort||!t.dragAutoScroll.sortDuringScroll&&M.autoScroller.isItemScrolling(this._item)){this._sortX1=this._sortX2=this._gridX,this._sortY1=this._sortY2=this._gridY,this._isSortNeeded=!0,this._sortTimer!==void 0&&(this._sortTimer=window.clearTimeout(this._sortTimer));return}var e=this._checkHeuristics(this._gridX,this._gridY);if(!(!this._isSortNeeded&&!e)){var i=t.dragSortHeuristics.sortInterval;i<=0||this._isSortNeeded?(this._isSortNeeded=!1,this._sortTimer!==void 0&&(this._sortTimer=window.clearTimeout(this._sortTimer)),this._checkOverlap()):this._sortTimer===void 0&&(this._sortTimer=window.setTimeout(this._handleSortDelayed,i))}}};M.prototype._handleSortDelayed=function(){this._isSortNeeded=!0,this._sortTimer=void 0,He(this._item._id,this._handleSort)};M.prototype._cancelSort=function(){this._isSortNeeded=!1,this._sortTimer!==void 0&&(this._sortTimer=window.clearTimeout(this._sortTimer)),bn(this._item._id)};M.prototype._finishSort=function(){var t=this._getGrid()._settings.dragSort,e=t&&(this._isSortNeeded||this._sortTimer!==void 0);this._cancelSort(),e&&this._checkOverlap()};M.prototype._checkOverlap=function(){if(this._isActive){var t=this._item,e=this._getGrid()._settings,i,n,a,d,l,u,f,_;X(e.dragSortPredicate)?i=e.dragSortPredicate(t,this._dragMoveEvent):i=M.defaultSortPredicate(t,e.dragSortPredicate),!(!i||typeof i.index!="number")&&(f=i.action===bt?bt:zt,n=t.getGrid(),d=i.grid||n,_=n!==d,a=n._items.indexOf(t),l=Zt(d._items,i.index,_&&f===zt?1:0),!(!_&&l===this._blockedSortIndex)&&(_?(this._blockedSortIndex=null,u=d._items[l],n._hasListeners(Yt)&&n._emit(Yt,{item:t,fromGrid:n,fromIndex:a,toGrid:d,toIndex:l}),d._hasListeners(Ce)&&d._emit(Ce,{item:t,fromGrid:n,fromIndex:a,toGrid:d,toIndex:l}),t._gridId=d._id,this._isMigrating=t._gridId!==this._gridId,n._items.splice(a,1),ni(d._items,t,l),t._sortData=null,n._hasListeners(De)&&n._emit(De,{item:t,fromGrid:n,fromIndex:a,toGrid:d,toIndex:l}),d._hasListeners(ke)&&d._emit(ke,{item:t,fromGrid:n,fromIndex:a,toGrid:d,toIndex:l}),f===bt&&u&&u.isActive()&&d._items.indexOf(u)>-1&&d.send(u,n,a,{appendTo:this._container||document.body,layoutSender:!1,layoutReceiver:!1}),n.layout(),d.layout()):a!==l&&(this._blockedSortIndex=a,(f===bt?ms:ps)(n._items,a,l),n._hasListeners(Ae)&&n._emit(Ae,{item:t,fromIndex:a,toIndex:l,action:f}),n.layout())))}};M.prototype._finishMigration=function(){var t=this._item,e=t._dragRelease,i=t._element,n=t._isActive,a=t.getGrid(),d=a._element,l=a._settings,u=l.dragContainer||d,f=this._getGrid()._settings,_=i.parentNode,S=n?f.itemVisibleClass:f.itemHiddenClass,b=n?l.itemVisibleClass:l.itemHiddenClass,w,A;this._isMigrating=!1,this.destroy(),f.itemClass!==l.itemClass&&(rt(i,f.itemClass),ft(i,l.itemClass)),S!==b&&(rt(i,S),ft(i,b)),u!==_&&(u.appendChild(i),A=Qt(_,u,!0),w=kt(i),w.x-=A.left,w.y-=A.top),t._refreshDimensions(),A=Qt(u,d,!0),e._containerDiffX=A.left,e._containerDiffY=A.top,t._drag=l.dragEnabled?new M(t):null,u!==_&&t._setTranslate(w.x,w.y),t._visibility.setStyles(n?l.visibleStyles:l.hiddenStyles),e.start()};M.prototype._preStartCheck=function(t){this._startPredicateState===Re&&(this._startPredicateState=Ke),this._startPredicateState===Ke?(this._startPredicateResult=this._startPredicate(this._item,t),this._startPredicateResult===!0?(this._startPredicateState=Pe,this._onStart(t)):this._startPredicateResult===!1&&(this._resetStartPredicate(t),this._dragger._reset(),this._startPredicateState=Re)):this._startPredicateState===Pe&&this._isActive&&this._onMove(t)};M.prototype._preEndCheck=function(t){var e=this._startPredicateState===Pe;this._startPredicate(this._item,t),this._startPredicateState=Re,!(!e||!this._isActive)&&(this._isStarted?this._onEnd(t):this.stop())};M.prototype._onStart=function(t){var e=this._item;e._isActive&&(this._isActive=!0,this._dragStartEvent=t,M.autoScroller.addItem(e),yn(e._id,this._prepareStart,this._applyStart))};M.prototype._prepareStart=function(){if(this._isActive){var t=this._item;if(t._isActive){var e=t._element,i=this._getGrid(),n=i._settings,a=i._element,d=n.dragContainer||a,l=$e(d),u=kt(e),f=e.getBoundingClientRect(),_=d!==a;if(this._container=d,this._containingBlock=l,this._clientX=f.left,this._clientY=f.top,this._left=this._gridX=u.x,this._top=this._gridY=u.y,this._scrollDiffX=this._scrollDiffY=0,this._moveDiffX=this._moveDiffY=0,this._resetHeuristics(this._gridX,this._gridY),_){var S=Qt(l,a);this._containerDiffX=S.left,this._containerDiffY=S.top}}}};M.prototype._applyStart=function(){if(this._isActive){var t=this._item;if(t._isActive){var e=this._getGrid(),i=t._element,n=t._dragRelease,a=t._migrate,d=this._container!==e._element;t.isPositioning()&&t._layout.stop(!0,this._left,this._top),a._isActive&&(this._left-=a._containerDiffX,this._top-=a._containerDiffY,this._gridX-=a._containerDiffX,this._gridY-=a._containerDiffY,a.stop(!0,this._left,this._top)),t.isReleasing()&&n._reset(),e._settings.dragPlaceholder.enabled&&t._dragPlaceholder.create(),this._isStarted=!0,e._emit(tn,t,this._dragStartEvent),d&&(i.parentNode===this._container?(this._gridX-=this._containerDiffX,this._gridY-=this._containerDiffY):(this._left+=this._containerDiffX,this._top+=this._containerDiffY,this._container.appendChild(i),t._setTranslate(this._left,this._top))),ft(i,e._settings.itemDraggingClass),this._bindScrollListeners(),e._emit(en,t,this._dragStartEvent)}}};M.prototype._onMove=function(t){var e=this._item;if(!e._isActive){this.stop();return}this._dragMoveEvent=t,Sn(e._id,this._prepareMove,this._applyMove),He(e._id,this._handleSort)};M.prototype._prepareMove=function(){if(this._isActive){var t=this._item;if(t._isActive){var e=this._getGrid()._settings,i=e.dragAxis,n=this._dragMoveEvent,a=this._dragPrevMoveEvent||this._dragStartEvent||n;if(i!=="y"){var d=n.clientX-a.clientX;this._left=this._left-this._moveDiffX+d,this._gridX=this._gridX-this._moveDiffX+d,this._clientX=this._clientX-this._moveDiffX+d,this._moveDiffX=d}if(i!=="x"){var l=n.clientY-a.clientY;this._top=this._top-this._moveDiffY+l,this._gridY=this._gridY-this._moveDiffY+l,this._clientY=this._clientY-this._moveDiffY+l,this._moveDiffY=l}this._dragPrevMoveEvent=n}}};M.prototype._applyMove=function(){if(this._isActive){var t=this._item;t._isActive&&(this._moveDiffX=this._moveDiffY=0,t._setTranslate(this._left,this._top),this._getGrid()._emit(sn,t,this._dragMoveEvent),M.autoScroller.updateItem(t))}};M.prototype._onScroll=function(t){var e=this._item;if(!e._isActive){this.stop();return}this._scrollEvent=t,xn(e._id,this._prepareScroll,this._applyScroll),He(e._id,this._handleSort)};M.prototype._prepareScroll=function(){if(this._isActive){var t=this._item;if(t._isActive){var e=t._element,i=this._getGrid(),n=i._element,a=e.getBoundingClientRect();if(this._container!==n){var d=Qt(this._containingBlock,n);this._containerDiffX=d.left,this._containerDiffY=d.top}var l=this._clientX-this._moveDiffX-a.left;this._left=this._left-this._scrollDiffX+l,this._scrollDiffX=l;var u=this._clientY-this._moveDiffY-a.top;this._top=this._top-this._scrollDiffY+u,this._scrollDiffY=u,this._gridX=this._left-this._containerDiffX,this._gridY=this._top-this._containerDiffY}}};M.prototype._applyScroll=function(){if(this._isActive){var t=this._item;t._isActive&&(this._scrollDiffX=this._scrollDiffY=0,t._setTranslate(this._left,this._top),this._getGrid()._emit(nn,t,this._scrollEvent))}};M.prototype._onEnd=function(t){var e=this._item,i=e._element,n=this._getGrid(),a=n._settings,d=e._dragRelease;if(!e._isActive){this.stop();return}as(e._id),os(e._id),ls(e._id),this._finishSort(),this._unbindScrollListeners(),d._containerDiffX=this._containerDiffX,d._containerDiffY=this._containerDiffY,this._reset(),rt(i,a.itemDraggingClass),M.autoScroller.removeItem(e),n._emit(rn,e,t),this._isMigrating?this._finishMigration():d.start()};function Kn(t){if(t.tagName.toLowerCase()==="a"){var e=t.getAttribute("href");if(e){var i=t.getAttribute("target");i&&i!=="_self"?window.open(e,i):window.location.href=e}}}function xs(t,e){var i={},n,a;if(Array.isArray(e))for(a=0;a<e.length;a++)n=e[a],i[n]=ut(t,Qe(n));else for(n in e)i[n]=ut(t,Qe(n));return i}var Jn=/^(webkit|moz|ms|o|Webkit|Moz|MS|O)(?=[A-Z])/,wi={};function tr(t){var e=wi[t];return e||(e=t.replace(Jn,""),e!==t&&(e=e[0].toLowerCase()+e.slice(1)),wi[t]=e,e)}var er="[native code]";function ir(t){var e=window.Symbol;return!!(t&&X(e)&&X(e.toString)&&e(t).toString().indexOf(er)>-1)}function $t(t,e){for(var i in e)t.style[i]=e[i]}var sr=!!(Element&&X(Element.prototype.animate)),Ti=!!(Element&&ir(Element.prototype.animate));function wt(t){this._element=t,this._animation=null,this._duration=0,this._easing="",this._callback=null,this._props=[],this._values=[],this._isDestroyed=!1,this._onFinish=this._onFinish.bind(this)}wt.prototype.start=function(t,e,i){if(!this._isDestroyed){var n=this._element,a=i||{};if(!sr){$t(n,e),this._callback=X(a.onFinish)?a.onFinish:null,this._onFinish();return}var d=this._animation,l=this._props,u=this._values,f=a.duration||300,_=a.easing||"ease",S=!1,b,w,A;if(d&&(w=0,(f!==this._duration||_!==this._easing)&&(S=!0),!S)){for(b in e)if(++w,A=l.indexOf(b),A===-1||e[b]!==u[A]){S=!0;break}w!==l.length&&(S=!0)}if(S&&d.cancel(),this._callback=X(a.onFinish)?a.onFinish:null,!(d&&!S)){l.length=u.length=0;for(b in e)l.push(b),u.push(e[b]);this._duration=f,this._easing=_,this._animation=n.animate([Ai(t,Ti),Ai(e,Ti)],{duration:f,easing:_}),this._animation.onfinish=this._onFinish,$t(n,e)}}};wt.prototype.stop=function(){this._isDestroyed||!this._animation||(this._animation.cancel(),this._animation=this._callback=null,this._props.length=this._values.length=0)};wt.prototype.getCurrentStyles=function(){return xs(element,currentProps)};wt.prototype.isAnimating=function(){return!!this._animation};wt.prototype.destroy=function(){this._isDestroyed||(this.stop(),this._element=null,this._isDestroyed=!0)};wt.prototype._onFinish=function(){var t=this._callback;this._animation=this._callback=null,this._props.length=this._values.length=0,t&&t()};function Ai(t,e){var i={};for(var n in t)i[e?n:tr(n)]=t[n];return i}function Mt(t,e){return"translateX("+t+"px) translateY("+e+"px)"}function lt(t){this._item=t,this._animation=new wt,this._element=null,this._className="",this._didMigrate=!1,this._resetAfterLayout=!1,this._left=0,this._top=0,this._transX=0,this._transY=0,this._nextTransX=0,this._nextTransY=0,this._setupAnimation=this._setupAnimation.bind(this),this._startAnimation=this._startAnimation.bind(this),this._updateDimensions=this._updateDimensions.bind(this),this._onLayoutStart=this._onLayoutStart.bind(this),this._onLayoutEnd=this._onLayoutEnd.bind(this),this._onReleaseEnd=this._onReleaseEnd.bind(this),this._onMigrate=this._onMigrate.bind(this),this._onHide=this._onHide.bind(this)}lt.prototype._updateDimensions=function(){this.isActive()&&$t(this._element,{width:this._item._width+"px",height:this._item._height+"px"})};lt.prototype._onLayoutStart=function(t,e){var i=this._item;if(t.indexOf(i)===-1){this.reset();return}var n=i._left,a=i._top,d=this._left,l=this._top;if(this._left=n,this._top=a,!(!e&&!this._didMigrate&&d===n&&l===a)){var u=n+i._marginLeft,f=a+i._marginTop,_=i.getGrid(),S=!e&&_._settings.layoutDuration>0;if(!S||this._didMigrate){hs(i._id),this._element.style[Et]=Mt(u,f),this._animation.stop(),this._didMigrate&&(_.getElement().appendChild(this._element),this._didMigrate=!1);return}this._nextTransX=u,this._nextTransY=f,En(i._id,this._setupAnimation,this._startAnimation)}};lt.prototype._setupAnimation=function(){if(this.isActive()){var t=kt(this._element);this._transX=t.x,this._transY=t.y}};lt.prototype._startAnimation=function(){if(this.isActive()){var t=this._animation,e=this._transX,i=this._transY,n=this._nextTransX,a=this._nextTransY;if(e===n&&i===a){t.isAnimating()&&(this._element.style[Et]=Mt(n,a),t.stop());return}var d=this._item.getGrid()._settings,l={},u={};l[Et]=Mt(e,i),u[Et]=Mt(n,a),t.start(l,u,{duration:d.layoutDuration,easing:d.layoutEasing,onFinish:this._onLayoutEnd})}};lt.prototype._onLayoutEnd=function(){this._resetAfterLayout&&this.reset()};lt.prototype._onReleaseEnd=function(t){if(t._id===this._item._id){if(!this._animation.isAnimating()){this.reset();return}this._resetAfterLayout=!0}};lt.prototype._onMigrate=function(t){if(t.item===this._item){var e=this._item.getGrid(),i=t.toGrid;e.off(ae,this._onReleaseEnd),e.off(Ot,this._onLayoutStart),e.off(Yt,this._onMigrate),e.off(re,this._onHide),i.on(ae,this._onReleaseEnd),i.on(Ot,this._onLayoutStart),i.on(Yt,this._onMigrate),i.on(re,this._onHide),this._didMigrate=!0}};lt.prototype._onHide=function(t){t.indexOf(this._item)>-1&&this.reset()};lt.prototype.create=function(){if(this.isActive()){this._resetAfterLayout=!1;return}var t=this._item,e=t.getGrid(),i=e._settings,n=this._animation;this._left=t._left,this._top=t._top;var a;X(i.dragPlaceholder.createElement)?a=i.dragPlaceholder.createElement(t):a=document.createElement("div"),this._element=a,n._element=a,this._className=i.itemPlaceholderClass||"",this._className&&ft(a,this._className),$t(a,{position:"absolute",left:"0px",top:"0px",width:t._width+"px",height:t._height+"px"}),a.style[Et]=Mt(t._left+t._marginLeft,t._top+t._marginTop),e.on(Ot,this._onLayoutStart),e.on(ae,this._onReleaseEnd),e.on(Yt,this._onMigrate),e.on(re,this._onHide),X(i.dragPlaceholder.onCreate)&&i.dragPlaceholder.onCreate(t,a),e.getElement().appendChild(a)};lt.prototype.reset=function(){if(this.isActive()){var t=this._element,e=this._item,i=e.getGrid(),n=i._settings,a=this._animation;this._resetAfterLayout=!1,hs(e._id),Tn(e._id),a.stop(),a._element=null,i.off(ae,this._onReleaseEnd),i.off(Ot,this._onLayoutStart),i.off(Yt,this._onMigrate),i.off(re,this._onHide),this._className&&(rt(t,this._className),this._className=""),t.parentNode.removeChild(t),this._element=null,X(n.dragPlaceholder.onRemove)&&n.dragPlaceholder.onRemove(e,t)}};lt.prototype.isActive=function(){return!!this._element};lt.prototype.getElement=function(){return this._element};lt.prototype.updateDimensions=function(){this.isActive()&&wn(this._item._id,this._updateDimensions)};lt.prototype.destroy=function(){this.reset(),this._animation.destroy(),this._item=this._animation=null};function qt(t){this._item=t,this._isActive=!1,this._isDestroyed=!1,this._isPositioningStarted=!1,this._containerDiffX=0,this._containerDiffY=0}qt.prototype.start=function(){if(!(this._isDestroyed||this._isActive)){var t=this._item,e=t.getGrid(),i=e._settings;this._isActive=!0,ft(t._element,i.itemReleasingClass),i.dragRelease.useDragContainer||this._placeToGrid(),e._emit(an,t),e._nextLayoutData||t._layout.start(!1)}};qt.prototype.stop=function(t,e,i){if(!(this._isDestroyed||!this._isActive)){var n=this._item,a=n.getGrid();!t&&(e===void 0||i===void 0)&&(e=n._left,i=n._top);var d=this._placeToGrid(e,i);this._reset(d),t||a._emit(ae,n)}};qt.prototype.isJustReleased=function(){return this._isActive&&this._isPositioningStarted===!1};qt.prototype.destroy=function(){this._isDestroyed||(this.stop(!0),this._item=null,this._isDestroyed=!0)};qt.prototype._placeToGrid=function(t,e){if(!this._isDestroyed){var i=this._item,n=i._element,a=i.getGrid()._element,d=!1;if(n.parentNode!==a){if(t===void 0||e===void 0){var l=kt(n);t=l.x-this._containerDiffX,e=l.y-this._containerDiffY}a.appendChild(n),i._setTranslate(t,e),d=!0}return this._containerDiffX=0,this._containerDiffY=0,d}};qt.prototype._reset=function(t){if(!this._isDestroyed){var e=this._item,i=e.getGrid()._settings.itemReleasingClass;this._isActive=!1,this._isPositioningStarted=!1,this._containerDiffX=0,this._containerDiffY=0,i&&(t&&e._element.clientWidth,rt(e._element,i))}};var Di=2;function It(t){var e=t._element,i=e.style;this._item=t,this._isActive=!1,this._isDestroyed=!1,this._isInterrupted=!1,this._currentStyles={},this._targetStyles={},this._nextLeft=0,this._nextTop=0,this._offsetLeft=0,this._offsetTop=0,this._skipNextAnimation=!1,this._animOptions={onFinish:this._finish.bind(this),duration:0,easing:0},i.left="0px",i.top="0px",t._setTranslate(0,0),this._animation=new wt(e),this._queue="layout-"+t._id,this._setupAnimation=this._setupAnimation.bind(this),this._startAnimation=this._startAnimation.bind(this)}It.prototype.start=function(t,e){if(!this._isDestroyed){var i=this._item,n=i._dragRelease,a=i.getGrid()._settings,d=this._isActive,l=n.isJustReleased(),u=l?a.dragRelease.duration:a.layoutDuration,f=l?a.dragRelease.easing:a.layoutEasing,_=!t&&!this._skipNextAnimation&&u>0;if(d&&(ns(i._id),i._emitter.burst(this._queue,!0,i)),l&&(n._isPositioningStarted=!0),X(e)&&i._emitter.on(this._queue,e),this._skipNextAnimation=!1,!_){this._updateOffsets(),i._setTranslate(this._nextLeft,this._nextTop),this._animation.stop(),this._finish();return}this._animation.isAnimating()&&(this._animation._animation.onfinish=null),this._isActive=!0,this._animOptions.easing=f,this._animOptions.duration=u,this._isInterrupted=d,pn(i._id,this._setupAnimation,this._startAnimation)}};It.prototype.stop=function(t,e,i){if(!(this._isDestroyed||!this._isActive)){var n=this._item;if(ns(n._id),this._animation.isAnimating()){if(e===void 0||i===void 0){var a=kt(n._element);e=a.x,i=a.y}n._setTranslate(e,i),this._animation.stop()}rt(n._element,n.getGrid()._settings.itemPositioningClass),this._isActive=!1,t&&n._emitter.burst(this._queue,!0,n)}};It.prototype.destroy=function(){if(!this._isDestroyed){var t=this._item._element.style;this.stop(!0,0,0),this._item._emitter.clear(this._queue),this._animation.destroy(),t[Et]="",t.left="",t.top="",this._item=null,this._currentStyles=null,this._targetStyles=null,this._animOptions=null,this._isDestroyed=!0}};It.prototype._updateOffsets=function(){if(!this._isDestroyed){var t=this._item,e=t._migrate,i=t._dragRelease;this._offsetLeft=i._isActive?i._containerDiffX:e._isActive?e._containerDiffX:0,this._offsetTop=i._isActive?i._containerDiffY:e._isActive?e._containerDiffY:0,this._nextLeft=this._item._left+this._offsetLeft,this._nextTop=this._item._top+this._offsetTop}};It.prototype._finish=function(){if(!this._isDestroyed){var t=this._item,e=t._migrate,i=t._dragRelease;t._tX=this._nextLeft,t._tY=this._nextTop,this._isActive&&(this._isActive=!1,rt(t._element,t.getGrid()._settings.itemPositioningClass)),i._isActive&&i.stop(),e._isActive&&e.stop(),t._emitter.burst(this._queue,!1,t)}};It.prototype._setupAnimation=function(){var t=this._item;if(t._tX===void 0||t._tY===void 0){var e=kt(t._element);t._tX=e.x,t._tY=e.y}};It.prototype._startAnimation=function(){var t=this._item,e=t.getGrid()._settings,i=this._animOptions.duration<=0;this._updateOffsets();var n=Math.abs(t._left-(t._tX-this._offsetLeft)),a=Math.abs(t._top-(t._tY-this._offsetTop));if(i||n<Di&&a<Di){(n||a||this._isInterrupted)&&t._setTranslate(this._nextLeft,this._nextTop),this._animation.stop(),this._finish();return}this._isInterrupted||ft(t._element,e.itemPositioningClass),this._currentStyles[Et]=Mt(t._tX,t._tY),this._targetStyles[Et]=Mt(this._nextLeft,this._nextTop),t._tX=t._tY=void 0,this._animation.start(this._currentStyles,this._targetStyles,this._animOptions)};function _e(t){this._item=t,this._isActive=!1,this._isDestroyed=!1,this._container=!1,this._containerDiffX=0,this._containerDiffY=0}_e.prototype.start=function(t,e,i){if(!this._isDestroyed){var n=this._item,a=n._element,d=n.isActive(),l=n.isVisible(),u=n.getGrid(),f=u._settings,_=t._settings,S=t._element,b=t._items,w=u._items.indexOf(n),A=i||document.body,C,v,m,D,E,k,T,Y,V,Q;if(typeof e=="number")C=Zt(b,e,1);else{if(v=t.getItem(e),!v)return;C=b.indexOf(v)}(n.isPositioning()||this._isActive||n.isReleasing())&&(k=kt(a),T=k.x,Y=k.y),n.isPositioning()&&n._layout.stop(!0,T,Y),this._isActive&&(T-=this._containerDiffX,Y-=this._containerDiffY,this.stop(!0,T,Y)),n.isReleasing()&&(T-=n._dragRelease._containerDiffX,Y-=n._dragRelease._containerDiffY,n._dragRelease.stop(!0,T,Y)),n._visibility.stop(!0),n._drag&&n._drag.destroy(),u._hasListeners(Yt)&&u._emit(Yt,{item:n,fromGrid:u,fromIndex:w,toGrid:t,toIndex:C}),t._hasListeners(Ce)&&t._emit(Ce,{item:n,fromGrid:u,fromIndex:w,toGrid:t,toIndex:C}),f.itemClass!==_.itemClass&&(rt(a,f.itemClass),ft(a,_.itemClass)),V=l?f.itemVisibleClass:f.itemHiddenClass,Q=l?_.itemVisibleClass:_.itemHiddenClass,V!==Q&&(rt(a,V),ft(a,Q)),u._items.splice(w,1),ni(b,n,C),n._gridId=t._id,d?(m=a.parentNode,A!==m&&(A.appendChild(a),D=Qt(A,m,!0),k||(k=kt(a),T=k.x,Y=k.y),n._setTranslate(T+D.left,Y+D.top))):S.appendChild(a),n._visibility.setStyles(l?_.visibleStyles:_.hiddenStyles),d&&(E=Qt(A,S,!0)),n._refreshDimensions(),n._sortData=null,n._drag=_.dragEnabled?new M(n):null,d?(this._isActive=!0,this._container=A,this._containerDiffX=E.left,this._containerDiffY=E.top):(this._isActive=!1,this._container=null,this._containerDiffX=0,this._containerDiffY=0),u._hasListeners(De)&&u._emit(De,{item:n,fromGrid:u,fromIndex:w,toGrid:t,toIndex:C}),t._hasListeners(ke)&&t._emit(ke,{item:n,fromGrid:u,fromIndex:w,toGrid:t,toIndex:C})}};_e.prototype.stop=function(t,e,i){if(!(this._isDestroyed||!this._isActive)){var n=this._item,a=n._element,d=n.getGrid(),l=d._element,u;this._container!==l&&((e===void 0||i===void 0)&&(t?(u=kt(a),e=u.x-this._containerDiffX,i=u.y-this._containerDiffY):(e=n._left,i=n._top)),l.appendChild(a),n._setTranslate(e,i)),this._isActive=!1,this._container=null,this._containerDiffX=0,this._containerDiffY=0}};_e.prototype.destroy=function(){this._isDestroyed||(this.stop(!0),this._item=null,this._isDestroyed=!0)};function yt(t){var e=t._isActive,i=t._element,n=i.children[0],a=t.getGrid()._settings;if(!n)throw new Error("No valid child element found within item element.");this._item=t,this._isDestroyed=!1,this._isHidden=!e,this._isHiding=!1,this._isShowing=!1,this._childElement=n,this._currentStyleProps=[],this._animation=new wt(n),this._queue="visibility-"+t._id,this._finishShow=this._finishShow.bind(this),this._finishHide=this._finishHide.bind(this),i.style.display=e?"":"none",ft(i,e?a.itemVisibleClass:a.itemHiddenClass),this.setStyles(e?a.visibleStyles:a.hiddenStyles)}yt.prototype.show=function(t,e){if(!this._isDestroyed){var i=this._item,n=i._element,a=X(e)?e:null,d=i.getGrid(),l=d._settings;if(!this._isShowing&&!this._isHidden){a&&a(!1,i);return}if(this._isShowing&&!t){a&&i._emitter.on(this._queue,a);return}this._isShowing||(i._emitter.burst(this._queue,!0,i),rt(n,l.itemHiddenClass),ft(n,l.itemVisibleClass),this._isHiding||(n.style.display="")),a&&i._emitter.on(this._queue,a),this._isShowing=!0,this._isHiding=this._isHidden=!1,this._startAnimation(!0,t,this._finishShow)}};yt.prototype.hide=function(t,e){if(!this._isDestroyed){var i=this._item,n=i._element,a=X(e)?e:null,d=i.getGrid(),l=d._settings;if(!this._isHiding&&this._isHidden){a&&a(!1,i);return}if(this._isHiding&&!t){a&&i._emitter.on(this._queue,a);return}this._isHiding||(i._emitter.burst(this._queue,!0,i),ft(n,l.itemHiddenClass),rt(n,l.itemVisibleClass)),a&&i._emitter.on(this._queue,a),this._isHidden=this._isHiding=!0,this._isShowing=!1,this._startAnimation(!1,t,this._finishHide)}};yt.prototype.stop=function(t){if(!this._isDestroyed&&!(!this._isHiding&&!this._isShowing)){var e=this._item;rs(e._id),this._animation.stop(),t&&e._emitter.burst(this._queue,!0,e)}};yt.prototype.setStyles=function(t){var e=this._childElement,i=this._currentStyleProps;this._removeCurrentStyles();for(var n in t)i.push(n),e.style[n]=t[n]};yt.prototype.destroy=function(){if(!this._isDestroyed){var t=this._item,e=t._element,i=t.getGrid(),n=i._settings;this.stop(!0),t._emitter.clear(this._queue),this._animation.destroy(),this._removeCurrentStyles(),rt(e,n.itemVisibleClass),rt(e,n.itemHiddenClass),e.style.display="",this._isHiding=this._isShowing=!1,this._isDestroyed=this._isHidden=!0}};yt.prototype._startAnimation=function(t,e,i){if(!this._isDestroyed){var n=this._item,a=this._animation,d=this._childElement,l=n.getGrid()._settings,u=t?l.visibleStyles:l.hiddenStyles,f=t?l.showDuration:l.hideDuration,_=t?l.showEasing:l.hideEasing,S=e||f<=0,b;if(!u){i&&i();return}if(rs(n._id),S){$t(d,u),a.stop(),i&&i();return}a.isAnimating()&&(a._animation.onfinish=null),mn(n._id,function(){b=xs(d,u)},function(){a.start(b,u,{duration:f,easing:_,onFinish:i})})}};yt.prototype._finishShow=function(){this._isHidden||(this._isShowing=!1,this._item._emitter.burst(this._queue,!1,this._item))};yt.prototype._finishHide=function(){if(this._isHidden){var t=this._item;this._isHiding=!1,t._layout.stop(!0,0,0),t._element.style.display="none",t._emitter.burst(this._queue,!1,t)}};yt.prototype._removeCurrentStyles=function(){for(var t=this._childElement,e=this._currentStyleProps,i=0;i<e.length;i++)t.style[e[i]]="";e.length=0};var nr=0;function bs(){return++nr}function U(t,e,i){var n=t._settings;if(Wt){if(Wt.has(e))throw new Error("You can only create one Muuri Item per element!");Wt.set(e,this)}this._id=bs(),this._gridId=t._id,this._element=e,this._isDestroyed=!1,this._left=0,this._top=0,this._width=0,this._height=0,this._marginLeft=0,this._marginRight=0,this._marginTop=0,this._marginBottom=0,this._tX=void 0,this._tY=void 0,this._sortData=null,this._emitter=new gt,e.parentNode!==t._element&&t._element.appendChild(e),ft(e,n.itemClass),typeof i!="boolean"&&(i=ut(e,"display")!=="none"),this._isActive=i,this._visibility=new yt(this),this._layout=new It(this),this._migrate=new _e(this),this._drag=n.dragEnabled?new M(this):null,this._dragRelease=new qt(this),this._dragPlaceholder=new lt(this)}U.prototype.getGrid=function(){return Oe[this._gridId]};U.prototype.getElement=function(){return this._element};U.prototype.getWidth=function(){return this._width};U.prototype.getHeight=function(){return this._height};U.prototype.getMargin=function(){return{left:this._marginLeft,right:this._marginRight,top:this._marginTop,bottom:this._marginBottom}};U.prototype.getPosition=function(){return{left:this._left,top:this._top}};U.prototype.isActive=function(){return this._isActive};U.prototype.isVisible=function(){return!!this._visibility&&!this._visibility._isHidden};U.prototype.isShowing=function(){return!!(this._visibility&&this._visibility._isShowing)};U.prototype.isHiding=function(){return!!(this._visibility&&this._visibility._isHiding)};U.prototype.isPositioning=function(){return!!(this._layout&&this._layout._isActive)};U.prototype.isDragging=function(){return!!(this._drag&&this._drag._isActive)};U.prototype.isReleasing=function(){return!!(this._dragRelease&&this._dragRelease._isActive)};U.prototype.isDestroyed=function(){return this._isDestroyed};U.prototype._refreshDimensions=function(t){if(!this._isDestroyed&&!(t!==!0&&this._visibility._isHidden)){var e=this._element,i=this._dragPlaceholder,n=e.getBoundingClientRect();this._width=n.width,this._height=n.height,this._marginLeft=Math.max(0,vt(e,"margin-left")),this._marginRight=Math.max(0,vt(e,"margin-right")),this._marginTop=Math.max(0,vt(e,"margin-top")),this._marginBottom=Math.max(0,vt(e,"margin-bottom")),i&&i.updateDimensions()}};U.prototype._refreshSortData=function(){if(!this._isDestroyed){var t=this._sortData={},e=this.getGrid()._settings.sortData,i;for(i in e)t[i]=e[i](this,this._element)}};U.prototype._addToLayout=function(t,e){this._isActive!==!0&&(this._isActive=!0,this._left=t||0,this._top=e||0)};U.prototype._removeFromLayout=function(){this._isActive!==!1&&(this._isActive=!1,this._left=0,this._top=0)};U.prototype._canSkipLayout=function(t,e){return this._left===t&&this._top===e&&!this._migrate._isActive&&!this._layout._skipNextAnimation&&!this._dragRelease.isJustReleased()};U.prototype._setTranslate=function(t,e){return this._tX===t&&this._tY===e?!1:(this._tX=t,this._tY=e,this._element.style[Et]=Mt(t,e),!0)};U.prototype._destroy=function(t){if(!this._isDestroyed){var e=this._element,i=this.getGrid(),n=i._settings;this._dragPlaceholder.destroy(),this._dragRelease.destroy(),this._migrate.destroy(),this._layout.destroy(),this._visibility.destroy(),this._drag&&this._drag.destroy(),this._emitter.destroy(),rt(e,n.itemClass),t&&e.parentNode.removeChild(e),Wt&&Wt.delete(e),this._isActive=!1,this._isDestroyed=!0}};function Es(t){var e=1,i=2,n=4,a=8,d=16,l=.001,u=.5;function f(v){return((v*1e3+.5<<0)/10<<0)/100}function _(){this.currentRects=[],this.nextRects=[],this.rectTarget={},this.rectStore=[],this.slotSizes=[],this.rectId=0,this.slotIndex=-1,this.slotData={left:0,top:0,width:0,height:0},this.sortRectsLeftTop=this.sortRectsLeftTop.bind(this),this.sortRectsTopLeft=this.sortRectsTopLeft.bind(this)}if(_.prototype.computeLayout=function(v,m){var D=v.items,E=v.slots,k=!!(m&e),T=!!(m&i),Y=!!(m&n),V=!!(m&a),Q=!!(m&d),tt=typeof D[0]=="number",B,q,j,Z,pt,et;if(!D.length)return v;for(q=tt?2:1,B=0;B<D.length;B+=q)tt?(Z=D[B],pt=D[B+1]):(j=D[B],Z=j._width+j._marginLeft+j._marginRight,pt=j._height+j._marginTop+j._marginBottom),Q&&(Z=f(Z),pt=f(pt)),et=this.computeNextSlot(v,Z,pt,k,T),T?et.left+et.width>v.width&&(v.width=et.left+et.width):et.top+et.height>v.height&&(v.height=et.top+et.height),E[++this.slotIndex]=et.left,E[++this.slotIndex]=et.top,(Y||V)&&this.slotSizes.push(et.width,et.height);if(Y)for(B=0;B<E.length;B+=2)E[B]=v.width-(E[B]+this.slotSizes[B]);if(V)for(B=1;B<E.length;B+=2)E[B]=v.height-(E[B]+this.slotSizes[B]);return this.slotSizes.length=0,this.currentRects.length=0,this.nextRects.length=0,this.rectStore.length=0,this.rectId=0,this.slotIndex=-1,v},_.prototype.computeNextSlot=function(v,m,D,E,k){var T=this.slotData,Y=this.currentRects,V=this.nextRects,Q=!1,tt,B,q,j,Z;for(V.length=0,T.left=null,T.top=null,T.width=m,T.height=D,j=0;j<Y.length;j++)if(B=Y[j],!!B&&(tt=this.getRect(B),T.width<=tt.width+l&&T.height<=tt.height+l)){T.left=tt.left,T.top=tt.top;break}if(T.left===null&&(k?(T.left=v.width,T.top=0):(T.left=0,T.top=v.height),E||(Q=!0)),!k&&T.top+T.height>v.height+l&&(T.left>u&&V.push(this.addRect(0,v.height,T.left,1/0)),T.left+T.width<v.width-u&&V.push(this.addRect(T.left+T.width,v.height,v.width-T.left-T.width,1/0)),v.height=T.top+T.height),k&&T.left+T.width>v.width+l&&(T.top>u&&V.push(this.addRect(v.width,0,1/0,T.top)),T.top+T.height<v.height-u&&V.push(this.addRect(v.width,T.top+T.height,1/0,v.height-T.top-T.height)),v.width=T.left+T.width),!Q){for(E&&(j=0);j<Y.length;j++)if(B=Y[j],!!B)for(tt=this.getRect(B),q=this.splitRect(tt,T),Z=0;Z<q.length;Z++)B=q[Z],tt=this.getRect(B),(k?tt.left+l<v.width-l:tt.top+l<v.height-l)&&V.push(B)}return V.length>1&&this.purgeRects(V).sort(k?this.sortRectsLeftTop:this.sortRectsTopLeft),this.currentRects=V,this.nextRects=Y,T},_.prototype.addRect=function(v,m,D,E){var k=++this.rectId;return this.rectStore[k]=v||0,this.rectStore[++this.rectId]=m||0,this.rectStore[++this.rectId]=D||0,this.rectStore[++this.rectId]=E||0,k},_.prototype.getRect=function(v,m){return m||(m=this.rectTarget),m.left=this.rectStore[v]||0,m.top=this.rectStore[++v]||0,m.width=this.rectStore[++v]||0,m.height=this.rectStore[++v]||0,m},_.prototype.splitRect=(function(){var v=[],m=0,D=0;return function(E,k){return v.length=0,E.left+E.width<=k.left+l||k.left+k.width<=E.left+l||E.top+E.height<=k.top+l||k.top+k.height<=E.top+l?(v.push(this.addRect(E.left,E.top,E.width,E.height)),v):(m=k.left-E.left,m>=u&&v.push(this.addRect(E.left,E.top,m,E.height)),m=E.left+E.width-(k.left+k.width),m>=u&&v.push(this.addRect(k.left+k.width,E.top,m,E.height)),D=k.top-E.top,D>=u&&v.push(this.addRect(E.left,E.top,E.width,D)),D=E.top+E.height-(k.top+k.height),D>=u&&v.push(this.addRect(E.left,k.top+k.height,E.width,D)),v)}})(),_.prototype.isRectAWithinRectB=function(v,m){return v.left+l>=m.left&&v.top+l>=m.top&&v.left+v.width-l<=m.left+m.width&&v.top+v.height-l<=m.top+m.height},_.prototype.purgeRects=(function(){var v={},m={};return function(D){for(var E=D.length,k;E--;)if(k=D.length,!!D[E]){for(this.getRect(D[E],v);k--;)if(!(!D[k]||E===k)&&(this.getRect(D[k],m),this.isRectAWithinRectB(v,m))){D[E]=0;break}}return D}})(),_.prototype.sortRectsTopLeft=(function(){var v={},m={};return function(D,E){return this.getRect(D,v),this.getRect(E,m),v.top<m.top&&v.top+l<m.top?-1:v.top>m.top&&v.top-l>m.top?1:v.left<m.left&&v.left+l<m.left?-1:v.left>m.left&&v.left-l>m.left?1:0}})(),_.prototype.sortRectsLeftTop=(function(){var v={},m={};return function(D,E){return this.getRect(D,v),this.getRect(E,m),v.left<m.left&&v.left+l<m.left?-1:v.left>m.left&&v.left-l<m.left?1:v.top<m.top&&v.top+l<m.top?-1:v.top>m.top&&v.top-l>m.top?1:0}})(),t){var S=1,b=2,w=3,A=4,C=new _;self.onmessage=function(v){var m=new Float32Array(v.data),D=m.subarray(A,m.length),E=new Float32Array(D.length),k=m[w],T={items:D,slots:E,width:m[S],height:m[b]};C.computeLayout(T,k),m[S]=T.width,m[b]=T.height,m.set(T.slots,A),postMessage(m.buffer,[m.buffer])}}return _}var ki=Es(),Ut=null,we=[];function rr(t,e){var i=[];if(t>0){Ut||(Ut=URL.createObjectURL(new Blob(["("+Es.toString()+")(true)"],{type:"application/javascript"})));for(var n=0,a;n<t;n++)a=new Worker(Ut),e&&(a.onmessage=e),i.push(a),we.push(a)}return i}function ar(t){for(var e,i,n=0;n<t.length;n++)e=t[n],e.onmessage=null,e.onerror=null,e.onmessageerror=null,e.terminate(),i=we.indexOf(e),i>-1&&we.splice(i,1);Ut&&!we.length&&(URL.revokeObjectURL(Ut),Ut=null)}function or(){return!!(window.Worker&&window.URL&&window.Blob)}var Ci=1,Me=2,Ii=4,Li=8,Ri=16,ws=0,Ts=1,As=2,lr=3,Je=4;function Lt(t,e){if(this._options=0,this._processor=null,this._layoutQueue=[],this._layouts={},this._layoutCallbacks={},this._layoutWorkers={},this._layoutWorkerData={},this._workers=[],this._onWorkerMessage=this._onWorkerMessage.bind(this),this.setOptions(e),t=typeof t=="number"?Math.max(0,t):0,t&&or())try{this._workers=rr(t,this._onWorkerMessage)}catch{this._processor=new ki}else this._processor=new ki}Lt.prototype._sendToWorker=function(){if(!(!this._layoutQueue.length||!this._workers.length)){var t=this._layoutQueue.shift(),e=this._workers.pop(),i=this._layoutWorkerData[t];delete this._layoutWorkerData[t],this._layoutWorkers[t]=e,e.postMessage(i.buffer,[i.buffer])}};Lt.prototype._onWorkerMessage=function(t){var e=new Float32Array(t.data),i=e[ws],n=this._layouts[i],a=this._layoutCallbacks[i],d=this._layoutWorkers[i];n&&delete this._layouts[i],a&&delete this._layoutCallbacks[i],d&&delete this._layoutWorkers[i],n&&a&&(n.width=e[Ts],n.height=e[As],n.slots=e.subarray(Je,e.length),this._finalizeLayout(n),a(n)),d&&(this._workers.push(d),this._sendToWorker())};Lt.prototype._finalizeLayout=function(t){var e=t._grid,i=t._settings&Me,n=e._boxSizing==="border-box";return delete t._grid,delete t._settings,t.styles={},i?t.styles.width=(n?t.width+e._borderLeft+e._borderRight:t.width)+"px":t.styles.height=(n?t.height+e._borderTop+e._borderBottom:t.height)+"px",t};Lt.prototype.setOptions=function(t){if(t){var e;typeof t.fillGaps=="boolean"?e=t.fillGaps?Ci:0:e=this._options&Ci;var i;typeof t.horizontal=="boolean"?i=t.horizontal?Me:0:i=this._options&Me;var n;typeof t.alignRight=="boolean"?n=t.alignRight?Ii:0:n=this._options&Ii;var a;typeof t.alignBottom=="boolean"?a=t.alignBottom?Li:0:a=this._options&Li;var d;typeof t.rounding=="boolean"?d=t.rounding?Ri:0:d=this._options&Ri,this._options=e|i|n|a|d}};Lt.prototype.createLayout=function(t,e,i,n,a,d){if(this._layouts[e])throw new Error("A layout with the provided id is currently being processed.");var l=this._options&Me,u={id:e,items:i,slots:null,width:l?0:n,height:l?a:0,_grid:t,_settings:this._options};if(!i.length){u.slots=[],this._finalizeLayout(u),d(u);return}if(this._processor){u.slots=window.Float32Array?new Float32Array(i.length*2):new Array(i.length*2),this._processor.computeLayout(u,u._settings),this._finalizeLayout(u),d(u);return}var f=new Float32Array(Je+i.length*2);f[ws]=e,f[Ts]=u.width,f[As]=u.height,f[lr]=u._settings;var _,S,b;for(_=0,S=Je-1,b;_<i.length;_++)b=i[_],f[++S]=b._width+b._marginLeft+b._marginRight,f[++S]=b._height+b._marginTop+b._marginBottom;return this._layoutQueue.push(e),this._layouts[e]=u,this._layoutCallbacks[e]=d,this._layoutWorkerData[e]=f,this._sendToWorker(),this.cancelLayout.bind(this,e)};Lt.prototype.cancelLayout=function(t){var e=this._layouts[t];if(e&&(delete this._layouts[t],delete this._layoutCallbacks[t],this._layoutWorkerData[t])){delete this._layoutWorkerData[t];var i=this._layoutQueue.indexOf(t);i>-1&&this._layoutQueue.splice(i,1)}};Lt.prototype.destroy=function(){for(var t in this._layoutWorkers)this._workers.push(this._layoutWorkers[t]);ar(this._workers),this._workers.length=0,this._layoutQueue.length=0,this._layouts={},this._layoutCallbacks={},this._layoutWorkers={},this._layoutWorkerData={}};var hr=0;function dr(t,e){var i=++hr,n=0,a=0,d=!1,l=function(u){d||(a&&(n-=u-a),a=u,n>0?Dn(i,l):(n=a=0,t()))};return function(u){if(!d){if(e<=0){u!==!0&&t();return}if(u===!0){d=!0,n=a=0,l=void 0,kn(i);return}n<=0?(n=e,l(0)):n=e}}}var ur="[object HTMLCollection]",cr="[object NodeList]";function ri(t){var e=Object.prototype.toString.call(t);return e===ur||e===cr}var fr="object",_r="[object Object]",vr=Object.prototype.toString;function Pi(t){return typeof t===fr&&vr.call(t)===_r}function gr(){}function pr(t){return ri(t)?Array.prototype.slice.call(t):Array.prototype.concat(t)}var Ds="number",We="string",Xt="instant",Ue=0;function O(t,e){typeof t===We&&(t=document.querySelector(t));var i=t.getRootNode?t.getRootNode({composed:!0})===document:document.body.contains(t);if(!i||t===document.documentElement)throw new Error("Container element must be an existing DOM element.");var n=mr(O.defaultOptions,e);n.visibleStyles=Mi(n.visibleStyles),n.hiddenStyles=Mi(n.hiddenStyles),X(n.dragSort)||(n.dragSort=!!n.dragSort),this._id=bs(),this._element=t,this._settings=n,this._isDestroyed=!1,this._items=[],this._layout={id:0,items:[],slots:[]},this._isLayoutFinished=!0,this._nextLayoutData=null,this._emitter=new gt,this._onLayoutDataReceived=this._onLayoutDataReceived.bind(this),Oe[this._id]=this,ft(t,n.containerClass),Sr(this,n.layoutOnResize),this.add(yr(t,n.items),{layout:!1}),n.layoutOnInit&&this.layout(!0)}O.Item=U;O.ItemLayout=It;O.ItemVisibility=yt;O.ItemMigrate=_e;O.ItemDrag=M;O.ItemDragRelease=qt;O.ItemDragPlaceholder=lt;O.Emitter=gt;O.Animator=wt;O.Dragger=x;O.Packer=Lt;O.AutoScroller=G;O.defaultPacker=new Lt(2);O.defaultOptions={items:"*",showDuration:300,showEasing:"ease",hideDuration:300,hideEasing:"ease",visibleStyles:{opacity:"1",transform:"scale(1)"},hiddenStyles:{opacity:"0",transform:"scale(0.5)"},layout:{fillGaps:!1,horizontal:!1,alignRight:!1,alignBottom:!1,rounding:!1},layoutOnResize:150,layoutOnInit:!0,layoutDuration:300,layoutEasing:"ease",sortData:null,dragEnabled:!1,dragContainer:null,dragHandle:null,dragStartPredicate:{distance:0,delay:0},dragAxis:"xy",dragSort:!0,dragSortHeuristics:{sortInterval:100,minDragDistance:10,minBounceBackAngle:1},dragSortPredicate:{threshold:50,action:zt,migrateAction:zt},dragRelease:{duration:300,easing:"ease",useDragContainer:!0},dragCssProps:{touchAction:"none",userSelect:"none",userDrag:"none",tapHighlightColor:"rgba(0, 0, 0, 0)",touchCallout:"none",contentZooming:"none"},dragPlaceholder:{enabled:!1,createElement:null,onCreate:null,onRemove:null},dragAutoScroll:{targets:[],handle:null,threshold:50,safeZone:.2,speed:G.smoothSpeed(1e3,2e3,2500),sortDuringScroll:!0,smoothStop:!1,onStart:null,onStop:null},containerClass:"muuri",itemClass:"muuri-item",itemVisibleClass:"muuri-item-shown",itemHiddenClass:"muuri-item-hidden",itemPositioningClass:"muuri-item-positioning",itemDraggingClass:"muuri-item-dragging",itemReleasingClass:"muuri-item-releasing",itemPlaceholderClass:"muuri-item-placeholder"};O.prototype.on=function(t,e){return this._emitter.on(t,e),this};O.prototype.off=function(t,e){return this._emitter.off(t,e),this};O.prototype.getElement=function(){return this._element};O.prototype.getItem=function(t){if(this._isDestroyed||!t&&t!==0)return null;if(typeof t===Ds)return this._items[t>-1?t:this._items.length+t]||null;if(t instanceof U)return t._gridId===this._id?t:null;if(Wt){var e=Wt.get(t);return e&&e._gridId===this._id?e:null}else for(var i=0;i<this._items.length;i++)if(this._items[i]._element===t)return this._items[i];return null};O.prototype.getItems=function(t){if(this._isDestroyed||t===void 0)return this._items.slice(0);var e=[],i,n;if(Array.isArray(t)||ri(t))for(i=0;i<t.length;i++)n=this.getItem(t[i]),n&&e.push(n);else n=this.getItem(t),n&&e.push(n);return e};O.prototype.refreshItems=function(t,e){if(this._isDestroyed)return this;var i=t||this._items,n,a,d,l;if(e===!0)for(l=[],n=0;n<i.length;n++)a=i[n],!a.isVisible()&&!a.isHiding()&&(d=a.getElement().style,d.visibility="hidden",d.display="",l.push(d));for(n=0;n<i.length;n++)i[n]._refreshDimensions(e);if(e===!0){for(n=0;n<l.length;n++)d=l[n],d.visibility="",d.display="none";l.length=0}return this};O.prototype.refreshSortData=function(t){if(this._isDestroyed)return this;for(var e=t||this._items,i=0;i<e.length;i++)e[i]._refreshSortData();return this};O.prototype.synchronize=function(){if(this._isDestroyed)return this;var t=this._items;if(!t.length)return this;for(var e,i,n=0;n<t.length;n++)i=t[n]._element,i.parentNode===this._element&&(e=e||document.createDocumentFragment(),e.appendChild(i));return e?(this._element.appendChild(e),this._emit(Qs),this):this};O.prototype.layout=function(t,e){if(this._isDestroyed)return this;var i=this._nextLayoutData;i&&X(i.cancel)&&i.cancel(),Ue=Ue%ln+1;var n=Ue;this._nextLayoutData={id:n,instant:t,onFinish:e,cancel:null};for(var a=this._items,d=[],l=0;l<a.length;l++)a[l]._isActive&&d.push(a[l]);this._refreshDimensions();var u=this._width-this._borderLeft-this._borderRight,f=this._height-this._borderTop-this._borderBottom,_=this._settings.layout,S;return X(_)?S=_(this,n,d,u,f,this._onLayoutDataReceived):(O.defaultPacker.setOptions(_),S=O.defaultPacker.createLayout(this,n,d,u,f,this._onLayoutDataReceived)),X(S)&&this._nextLayoutData&&this._nextLayoutData.id===n&&(this._nextLayoutData.cancel=S),this};O.prototype.add=function(t,e){if(this._isDestroyed||!t)return[];var i=pr(t);if(!i.length)return i;var n=e||{},a=n.layout?n.layout:n.layout===void 0,d=this._items,l=!1,u,f,_,S;for(S=0;S<i.length;S++)f=i[S],f.parentNode!==this._element&&(u=u||document.createDocumentFragment(),u.appendChild(f));for(u&&this._element.appendChild(u),S=0;S<i.length;S++)f=i[S],_=i[S]=new U(this,f,n.active),_._isActive&&(l=!0,_._layout._skipNextAnimation=!0);for(S=0;S<i.length;S++)_=i[S],_._refreshDimensions(),_._refreshSortData();return ni(d,i,n.index),this._hasListeners(gi)&&this._emit(gi,i.slice(0)),l&&a&&this.layout(a===Xt,X(a)?a:void 0),i};O.prototype.remove=function(t,e){if(this._isDestroyed||!t.length)return[];var i=e||{},n=i.layout?i.layout:i.layout===void 0,a=!1,d=this.getItems(),l=[],u=[],f,_,S;for(S=0;S<t.length;S++)_=t[S],!_._isDestroyed&&(f=this._items.indexOf(_),f!==-1&&(_._isActive&&(a=!0),l.push(_),u.push(d.indexOf(_)),_._destroy(i.removeElements),this._items.splice(f,1)));return this._hasListeners(pi)&&this._emit(pi,l.slice(0),u),a&&n&&this.layout(n===Xt,X(n)?n:void 0),l};O.prototype.show=function(t,e){return!this._isDestroyed&&t.length&&this._setItemsVisibility(t,!0,e),this};O.prototype.hide=function(t,e){return!this._isDestroyed&&t.length&&this._setItemsVisibility(t,!1,e),this};O.prototype.filter=function(t,e){if(this._isDestroyed||!this._items.length)return this;var i=[],n=[],a=typeof t===We,d=X(t),l=e||{},u=l.instant===!0,f=l.syncWithLayout,_=l.layout?l.layout:l.layout===void 0,S=X(l.onFinish)?l.onFinish:null,b=-1,w=gr,A,C;if(S&&(w=function(){++b&&S(i.slice(0),n.slice(0))}),d||a)for(C=0;C<this._items.length;C++)A=this._items[C],(d?t(A):Be(A._element,t))?i.push(A):n.push(A);return i.length?this.show(i,{instant:u,syncWithLayout:f,onFinish:w,layout:!1}):w(),n.length?this.hide(n,{instant:u,syncWithLayout:f,onFinish:w,layout:!1}):w(),(i.length||n.length)&&(this._hasListeners(mi)&&this._emit(mi,i.slice(0),n.slice(0)),_&&this.layout(_===Xt,X(_)?_:void 0)),this};O.prototype.sort=(function(){var t,e,i,n;function a(l,u){for(var f=0,_,S,b,w,A=0;A<t.length;A++)if(_=t[A][0],S=t[A][1],b=(l._sortData?l:l._refreshSortData())._sortData[_],w=(u._sortData?u:u._refreshSortData())._sortData[_],S==="desc"||!S&&e?f=w<b?-1:w>b?1:0:f=b<w?-1:b>w?1:0,f)return f;return f||(n||(n=Oi(i)),f=e?be(n,u,l):be(n,l,u)),f}function d(l,u){var f=e?-t(l,u):t(l,u);return f||(n||(n=Oi(i)),f=e?be(n,u,l):be(n,l,u)),f}return function(l,u){if(this._isDestroyed||this._items.length<2)return this;var f=this._items,_=u||{},S=_.layout?_.layout:_.layout===void 0;if(e=!!_.descending,i=f.slice(0),n=null,X(l))t=l,f.sort(d);else if(typeof l===We)t=l.trim().split(" ").filter(function(b){return b}).map(function(b){return b.split(":")}),f.sort(a);else if(Array.isArray(l))f.length=0,f.push.apply(f,l);else throw t=e=i=n=null,new Error("Invalid comparer argument provided.");return this._hasListeners(yi)&&this._emit(yi,f.slice(0),i),S&&this.layout(S===Xt,X(S)?S:void 0),t=e=i=n=null,this}})();O.prototype.move=function(t,e,i){if(this._isDestroyed||this._items.length<2)return this;var n=this._items,a=i||{},d=a.layout?a.layout:a.layout===void 0,l=a.action===bt,u=l?bt:zt,f=this.getItem(t),_=this.getItem(e),S,b;return f&&_&&f!==_&&(S=n.indexOf(f),b=n.indexOf(_),l?ms(n,S,b):ps(n,S,b),this._hasListeners(Ae)&&this._emit(Ae,{item:f,fromIndex:S,toIndex:b,action:u}),d&&this.layout(d===Xt,X(d)?d:void 0)),this};O.prototype.send=function(t,e,i,n){if(this._isDestroyed||e._isDestroyed||this===e)return this;if(t=this.getItem(t),!t)return this;var a=n||{},d=a.appendTo||document.body,l=a.layoutSender?a.layoutSender:a.layoutSender===void 0,u=a.layoutReceiver?a.layoutReceiver:a.layoutReceiver===void 0;return t._migrate.start(e,i,d),t._migrate._isActive&&t._isActive&&(l&&this.layout(l===Xt,X(l)?l:void 0),u&&e.layout(u===Xt,X(u)?u:void 0)),this};O.prototype.destroy=function(t){if(this._isDestroyed)return this;var e=this._element,i=this._items.slice(0),n=this._layout&&this._layout.styles||{},a,d;for(xr(this),a=0;a<i.length;a++)i[a]._destroy(t);this._items.length=0,rt(e,this._settings.containerClass);for(d in n)e.style[d]="";return this._emit(on),this._emitter.destroy(),delete Oe[this._id],this._isDestroyed=!0,this};O.prototype._emit=function(){this._isDestroyed||this._emitter.emit.apply(this._emitter,arguments)};O.prototype._hasListeners=function(t){return this._isDestroyed?!1:this._emitter.countListeners(t)>0};O.prototype._updateBoundingRect=function(){var t=this._element,e=t.getBoundingClientRect();this._width=e.width,this._height=e.height,this._left=e.left,this._top=e.top,this._right=e.right,this._bottom=e.bottom};O.prototype._updateBorders=function(t,e,i,n){var a=this._element;t&&(this._borderLeft=vt(a,"border-left-width")),e&&(this._borderRight=vt(a,"border-right-width")),i&&(this._borderTop=vt(a,"border-top-width")),n&&(this._borderBottom=vt(a,"border-bottom-width"))};O.prototype._refreshDimensions=function(){this._updateBoundingRect(),this._updateBorders(1,1,1,1),this._boxSizing=ut(this._element,"box-sizing")};O.prototype._onLayoutDataReceived=(function(){var t=[];return function(e){if(!(this._isDestroyed||!this._nextLayoutData||this._nextLayoutData.id!==e.id)){var i=this,n=this._nextLayoutData.instant,a=this._nextLayoutData.onFinish,d=e.items.length,l=d,u,f,_,S;for(this._nextLayoutData=null,!this._isLayoutFinished&&this._hasListeners(vi)&&this._emit(vi,this._layout.items.slice(0)),this._layout=e,t.length=0,S=0;S<d;S++){if(u=e.items[S],!u){--l;continue}if(f=e.slots[S*2],_=e.slots[S*2+1],u._canSkipLayout(f,_)){--l;continue}u._left=f,u._top=_,u.isActive()&&!u.isDragging()?t.push(u):--l}if(e.styles&&$t(this._element,e.styles),!(this._hasListeners(Ot)&&(this._emit(Ot,e.items.slice(0),n===!0),this._layout.id!==e.id))){var b=function(){if(!(--l>0)){var w=i._layout.id!==e.id,A=X(n)?n:a;w||(i._isLayoutFinished=!0),X(A)&&A(e.items.slice(0),w),!w&&i._hasListeners(_i)&&i._emit(_i,e.items.slice(0))}};if(!t.length)return b(),this;for(this._isLayoutFinished=!1,S=0;S<t.length&&this._layout.id===e.id;S++)t[S]._layout.start(n===!0,b);return this._layout.id===e.id&&(t.length=0),this}}}})();O.prototype._setItemsVisibility=function(t,e,i){var n=this,a=t.slice(0),d=i||{},l=d.instant===!0,u=d.onFinish,f=d.layout?d.layout:d.layout===void 0,_=a.length,S=e?$s:re,b=e?Ks:Js,w=e?"show":"hide",A=!1,C=[],v=[],m,D;if(!_){X(u)&&u(a);return}for(D=0;D<a.length;D++)m=a[D],(e&&!m._isActive||!e&&m._isActive)&&(A=!0),m._layout._skipNextAnimation=!!(e&&!m._isActive),e&&m._visibility._isHidden&&v.push(m),e?m._addToLayout():m._removeFromLayout();v.length&&(this.refreshItems(v,!0),v.length=0);function E(){for(A&&d.syncWithLayout!==!1&&n.off(Ot,E),n._hasListeners(S)&&n._emit(S,a.slice(0)),D=0;D<a.length;D++){if(a[D]._gridId!==n._id){--_<1&&(X(u)&&u(C.slice(0)),n._hasListeners(b)&&n._emit(b,C.slice(0)));continue}a[D]._visibility[w](l,function(k,T){k||C.push(T),--_<1&&(X(u)&&u(C.slice(0)),n._hasListeners(b)&&n._emit(b,C.slice(0)))})}}A&&d.syncWithLayout!==!1?this.on(Ot,E):E(),A&&f&&this.layout(f===Xt,X(f)?f:void 0)};function mr(t,e){var i=ne({},t);return e&&(i=ne(i,e)),e&&e.visibleStyles?i.visibleStyles=e.visibleStyles:t&&t.visibleStyles&&(i.visibleStyles=t.visibleStyles),e&&e.hiddenStyles?i.hiddenStyles=e.hiddenStyles:t&&t.hiddenStyles&&(i.hiddenStyles=t.hiddenStyles),i}function ne(t,e){var i=Object.keys(e),n=i.length,a,d,l;for(l=0;l<n;l++){if(d=i[l],a=Pi(e[d]),Pi(t[d])&&a){t[d]=ne(ne({},t[d]),e[d]);continue}if(a){t[d]=ne({},e[d]);continue}if(Array.isArray(e[d])){t[d]=e[d].slice(0);continue}t[d]=e[d]}return t}function yr(t,e){if(e==="*")return t.children;if(typeof e===We){for(var i=[],n=t.children,a=0;a<n.length;a++)Be(n[a],e)&&i.push(n[a]);return i}return Array.isArray(e)||ri(e)?e:[]}function Sr(t,e){typeof e!==Ds&&(e=e===!0?0:-1),e>=0&&(t._resizeHandler=dr(function(){t.refreshItems().layout()},e),window.addEventListener("resize",t._resizeHandler))}function xr(t){t._resizeHandler&&(t._resizeHandler(!0),window.removeEventListener("resize",t._resizeHandler),t._resizeHandler=null)}function Mi(t){var e={},i=document.documentElement.style,n,a;for(n in t)t[n]&&(a=Xe(i,n),a&&(e[a]=t[n]));return e}function Oi(t){for(var e={},i=0;i<t.length;i++)e[t[i]._id]=i;return e}function be(t,e,i){var n=t[e._id],a=t[i._id];return n-a}Zs({selector:".image-popup",title:!1});const Yi=document.getElementById("grid");let Te=null;Yi&&(Te=new O(Yi,{dragEnabled:!0,layout:{rounding:!1}}));if(Te){const t=document.querySelector('input[name="search"]');t&&t.addEventListener("input",function(i){const n=i.target.value.toLowerCase();Te.filter(a=>a.getElement().textContent.toLowerCase().includes(n))});const e=document.querySelectorAll(".filter-buttons button");e.length>0&&e.forEach(i=>{i.addEventListener("click",()=>{const n=i.dataset.filter;Te.filter(a=>{const d=a.getElement().dataset.category;return!n||d===n}),e.forEach(a=>a.classList.remove("active")),i.classList.add("active")})})}
