import"./app-COk2rsMN.js";class l{constructor(t='input[type="password"]',e="strong-bar",s="password-bar",n="password-input",r={}){this.inputSelector=t,this.barClass=e,this.meterWrapperClass=s,this.passwordBoxId=n}init(){this.initProgressBar(),this.initPasswordBox()}initProgressBar(){const t=document.querySelectorAll(this.inputSelector);t&&t.length>0&&t.forEach(e=>{const s=e.nextElementSibling;if(!s||!s.classList.contains(this.meterWrapperClass))return;s.innerHTML="";for(let r=0;r<4;r++){const a=document.createElement("div");a.classList.add(this.barClass),s.appendChild(a)}const n=s.querySelectorAll(`.${this.barClass}`);e.addEventListener("input",()=>{const r=e.value,a=this.getPasswordScore(r);n.forEach(o=>o.className=this.barClass),n.forEach((o,i)=>{i<a&&o.classList.add(`bar-active-${a}`)})})})}getPasswordScore(t){let e=0;return t.length>=8&&e++,/[A-Z]/.test(t)&&e++,/\d/.test(t)&&e++,/[\W_]/.test(t)&&e++,e}initPasswordBox(){const t=document.getElementById(this.passwordBoxId),e=document.querySelector(".password-box"),s={lower:document.getElementById("pass-lower"),upper:document.getElementById("pass-upper"),number:document.getElementById("pass-number"),length:document.getElementById("pass-length")};if(!t||!e||!Object.values(s).every(Boolean))return;let n=null;try{n=new bootstrap.Collapse(e,{toggle:!1})}catch(r){console.warn("Bootstrap Collapse not available:",r)}t.addEventListener("focus",()=>n?.show()),t.addEventListener("blur",()=>{t.value.length||n?.hide()}),t.addEventListener("keyup",()=>{const r=t.value;this.toggleValidity(s.lower,/[a-z]/.test(r)),this.toggleValidity(s.upper,/[A-Z]/.test(r)),this.toggleValidity(s.number,/[0-9]/.test(r)),this.toggleValidity(s.length,r.length>=8)})}toggleValidity(t,e){t.classList.toggle("valid",e),t.classList.toggle("invalid",!e)}}document.addEventListener("DOMContentLoaded",()=>{new l().init()});
